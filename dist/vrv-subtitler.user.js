// ==UserScript==
// @name         VRV Subtitler
// @namespace    http://tampermonkey.net/
// @version      0.1.23
// @description  Display SRT format subtitles on VRV
// @author       sheodox
// @match        https://static.vrv.co/vilos/player.html
// @grant        GM_getValue
// @grant        GM_setValue
// ==/UserScript==

!function(t){var e={};function n(r){if(e[r])return e[r].exports;var c=e[r]={i:r,l:!1,exports:{}};return t[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(r,c,function(e){return t[e]}.bind(null,c));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return zt})),n.d(e,"b",(function(){return ct})),n.d(e,"c",(function(){return K})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return z})),n.d(e,"g",(function(){return Ot})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return Y})),n.d(e,"j",(function(){return L})),n.d(e,"k",(function(){return yt})),n.d(e,"l",(function(){return St})),n.d(e,"m",(function(){return mt})),n.d(e,"n",(function(){return gt})),n.d(e,"o",(function(){return Et})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return y})),n.d(e,"r",(function(){return $})),n.d(e,"s",(function(){return C})),n.d(e,"t",(function(){return $t})),n.d(e,"u",(function(){return D})),n.d(e,"v",(function(){return vt})),n.d(e,"w",(function(){return pt})),n.d(e,"x",(function(){return c})),n.d(e,"y",(function(){return Rt})),n.d(e,"z",(function(){return g})),n.d(e,"A",(function(){return a})),n.d(e,"B",(function(){return E})),n.d(e,"C",(function(){return h})),n.d(e,"D",(function(){return Ct})),n.d(e,"E",(function(){return r})),n.d(e,"F",(function(){return p})),n.d(e,"G",(function(){return W})),n.d(e,"H",(function(){return R})),n.d(e,"I",(function(){return O})),n.d(e,"J",(function(){return l})),n.d(e,"K",(function(){return u})),n.d(e,"L",(function(){return T})),n.d(e,"M",(function(){return P})),n.d(e,"N",(function(){return q})),n.d(e,"O",(function(){return S})),n.d(e,"P",(function(){return b})),n.d(e,"Q",(function(){return w})),n.d(e,"R",(function(){return k})),n.d(e,"S",(function(){return N})),n.d(e,"T",(function(){return _})),n.d(e,"U",(function(){return jt})),n.d(e,"V",(function(){return xt})),n.d(e,"W",(function(){return wt})),n.d(e,"X",(function(){return B}));const c=t=>t;function s(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function i(){return Object.create(null)}function l(t){t.forEach(o)}function a(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function b(t,...e){if(null==t)return r;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function d(t,e,n){t.$$.on_destroy.push(b(e,n))}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),O=f?t=>requestAnimationFrame(t):r;const j=new Set;function x(t){j.forEach(e=>{e.c(t)||(j.delete(e),e.f())}),0!==j.size&&O(x)}function h(t){let e;return 0===j.size&&O(x),{promise:new Promise(n=>{j.add(e={c:t,f:n})}),abort(){j.delete(e)}}}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function S(){return k(" ")}function C(){return k("")}function E(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function R(t){return function(e){return e.preventDefault(),t.call(this,e)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function B(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function N(t){return""===t?void 0:+t}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function P(t,e){(null!=e||t.value)&&(t.value=e)}function q(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function M(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let A,U,V=0,I={};function F(t,e,n,r,c,s,o,i=0){const l=16.666/r;let a="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*s(t);a+=100*t+`%{${o(r,1-r)}}\n`}const u=a+`100% {${o(n,1-n)}}\n}`,b=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`;if(!I[b]){if(!A){const t=$("style");document.head.appendChild(t),A=t.sheet}I[b]=!0,A.insertRule(`@keyframes ${b} ${u}`,A.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${b} ${r}ms linear ${c}ms 1 both`,V+=1,b}function H(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--V&&O(()=>{if(V)return;let t=A.cssRules.length;for(;t--;)A.deleteRule(t);I={}})}function L(t,e,n,s){if(!e)return r;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return r;const{delay:i=0,duration:l=300,easing:a=c,start:u=p()+i,end:b=u+l,tick:d=r,css:f}=n(t,{from:e,to:o},s);let O,j=!0,x=!1;function m(){f&&H(t,O),j=!1}return h(t=>{if(!x&&t>=u&&(x=!0),x&&t>=b&&(d(1,0),m()),!j)return!1;if(x){const e=0+1*a((t-u)/l);d(e,1-e)}return!0}),f&&(O=F(t,0,1,l,i,a,f)),i||(x=!0),d(0,1),m}function D(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,c=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,K(t,c)}}function K(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),c="none"===r.transform?"":r.transform;t.style.transform=`${c} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function G(t){U=t}function J(){if(!U)throw new Error("Function called outside component initialization");return U}function W(t){J().$$.on_mount.push(t)}function Y(){const t=J();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const c=M(e,n);r.slice().forEach(e=>{e.call(t,c)})}}}const X=[],Q=[],Z=[],tt=[],et=Promise.resolve();let nt=!1;function rt(){nt||(nt=!0,et.then(it))}function ct(t){Z.push(t)}let st=!1;const ot=new Set;function it(){if(!st){st=!0;do{for(let t=0;t<X.length;t+=1){const e=X[t];G(e),lt(e.$$)}for(X.length=0;Q.length;)Q.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];ot.has(e)||(ot.add(e),e())}Z.length=0}while(X.length);for(;tt.length;)tt.pop()();nt=!1,st=!1,ot.clear()}}function lt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}let at;function ut(){return at||(at=Promise.resolve(),at.then(()=>{at=null})),at}function bt(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const dt=new Set;let ft;function pt(){ft={r:0,c:[],p:ft}}function Ot(){ft.r||l(ft.c),ft=ft.p}function jt(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(dt.has(t))return;dt.add(t),ft.c.push(()=>{dt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const ht={duration:0};function mt(t,e,n){let s,o,i=e(t,n),l=!1,u=0;function b(){s&&H(t,s)}function d(){const{delay:e=0,duration:n=300,easing:a=c,tick:d=r,css:f}=i||ht;f&&(s=F(t,0,1,n,e,a,f,u++)),d(0,1);const O=p()+e,j=O+n;o&&o.abort(),l=!0,ct(()=>bt(t,!0,"start")),o=h(e=>{if(l){if(e>=j)return d(1,0),bt(t,!0,"end"),b(),l=!1;if(e>=O){const t=a((e-O)/n);d(t,1-t)}}return l})}let f=!1;return{start(){f||(H(t),a(i)?(i=i(),ut().then(d)):d())},invalidate(){f=!1},end(){l&&(b(),l=!1)}}}function gt(t,e,n){let s,o=e(t,n),i=!0;const u=ft;function b(){const{delay:e=0,duration:n=300,easing:a=c,tick:b=r,css:d}=o||ht;d&&(s=F(t,1,0,n,e,a,d));const f=p()+e,O=f+n;ct(()=>bt(t,!1,"start")),h(e=>{if(i){if(e>=O)return b(0,1),bt(t,!1,"end"),--u.r||l(u.c),!1;if(e>=f){const t=a((e-f)/n);b(1-t,t)}}return i})}return u.r+=1,a(o)?ut().then(()=>{o=o(),b()}):b(),{end(e){e&&o.tick&&o.tick(1,0),i&&(s&&H(t,s),i=!1)}}}function yt(t,e,n,s){let o=e(t,n),i=s?0:1,u=null,b=null,d=null;function f(){d&&H(t,d)}function O(t,e){const n=t.b-i;return e*=Math.abs(n),{a:i,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function j(e){const{delay:n=0,duration:s=300,easing:a=c,tick:j=r,css:x}=o||ht,m={start:p()+n,b:e};e||(m.group=ft,ft.r+=1),u?b=m:(x&&(f(),d=F(t,i,e,s,n,a,x)),e&&j(0,1),u=O(m,s),ct(()=>bt(t,e,"start")),h(e=>{if(b&&e>b.start&&(u=O(b,s),b=null,bt(t,u.b,"start"),x&&(f(),d=F(t,i,u.b,u.duration,0,a,o.css))),u)if(e>=u.end)j(i=u.b,1-i),bt(t,u.b,"end"),b||(u.b?f():--u.group.r||l(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;i=u.a+u.d*a(t/u.duration),j(i,1-i)}return!(!u&&!b)}))}return{run(t){a(o)?ut().then(()=>{o=o(),j(t)}):j(t)},end(){f(),u=b=null}}}const vt="undefined"!=typeof window?window:global;function $t(t,e){t.f(),function(t,e){xt(t,1,1,()=>{e.delete(t.key)})}(t,e)}function wt(t,e,n,r,c,s,o,i,l,a,u,b){let d=t.length,f=s.length,p=d;const O={};for(;p--;)O[t[p].key]=p;const j=[],x=new Map,h=new Map;for(p=f;p--;){const t=b(c,s,p),i=n(t);let l=o.get(i);l?r&&l.p(t,e):(l=a(i,t),l.c()),x.set(i,j[p]=l),i in O&&h.set(i,Math.abs(p-O[i]))}const m=new Set,g=new Set;function y(t){jt(t,1),t.m(i,u),o.set(t.key,t),u=t.first,f--}for(;d&&f;){const e=j[f-1],n=t[d-1],r=e.key,c=n.key;e===n?(u=e.first,d--,f--):x.has(c)?!o.has(r)||m.has(r)?y(e):g.has(c)?d--:h.get(r)>h.get(c)?(g.add(r),y(e)):(m.add(c),d--):(l(n,o),d--)}for(;d--;){const e=t[d];x.has(e.key)||l(e,o)}for(;f;)y(j[f-1]);return j}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let kt;function St(t){t&&t.c()}function Ct(t,e,n){const{fragment:r,on_mount:c,on_destroy:s,after_update:i}=t.$$;r&&r.m(e,n),ct(()=>{const e=c.map(o).filter(a);s?s.push(...e):l(e),t.$$.on_mount=[]}),i.forEach(ct)}function Et(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e,n,c,s,o,a=[-1]){const u=U;G(t);const b=e.props||{},d=t.$$={fragment:null,ctx:null,props:o,update:r,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:a};let f=!1;d.ctx=n?n(t,b,(e,n,...r)=>{const c=r.length?r[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=c)&&(d.bound[e]&&d.bound[e](c),f&&function(t,e){-1===t.$$.dirty[0]&&(X.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],d.update(),f=!0,l(d.before_update),d.fragment=!!c&&c(d.ctx),e.target&&(e.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment&&d.fragment.c(),e.intro&&jt(t.$$.fragment),Ct(t,e.target,e.anchor),it()),G(u)}"function"==typeof HTMLElement&&(kt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){Et(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});class zt{$destroy(){Et(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n(0);function c(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function s(t){const e=t-1;return e*e*e+1}n.d(e,"c",(function(){return r.x}))},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",(function(){return r.i})),n.d(e,"b",(function(){return r.G}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n(1);n(0);function c(t,{delay:e=0,duration:n=400,easing:c=r.c}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:c,css:t=>`opacity: ${t*s}`}}function s(t,{delay:e=0,duration:n=400,easing:c=r.b,x:s=0,y:o=0,opacity:i=0}){const l=getComputedStyle(t),a=+l.opacity,u="none"===l.transform?"":l.transform,b=a*(1-i);return{delay:e,duration:n,easing:c,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*s}px, ${(1-t)*o}px);\n\t\t\topacity: ${a-b*e}`}}},,,,function(t,e){t.exports=class{constructor(t,e){this.format=t,this.fileName=e,this.subs=[]}getSubs(t){return this.subs.filter(e=>e.start<=t&&e.end>=t)}timeToMs(t){const[e,n,r]=t.split(":");return 36e5*+e+6e4*+n+1e3*parseFloat(r)}firstSubtitle(){return this.subs.reduce((t,e)=>e.start<t.start?e:t,{start:1/0})}}},function(t,e,n){const r=n(7),c=t=>(t.charAt(0).toLowerCase()+t.substring(1)).replace(" ",""),s=t=>{if(t){t=(t=t.replace(/[&H]/g,"")).padStart(8,"0");const[e,n,r,c,s]=t.match(/([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i),o=t=>parseInt(t,16);return`rgba(${o(s)}, ${o(c)}, ${o(r)}, ${255-o(n)})`}},o=(t,e,n="transparent",r=0,c=0)=>{const s=t||n;r*=2,c=`${c}px`;const o=[];for(let t=-1*(e=2*(void 0===e?1:e));t<=e;t++)for(let n=-1*e;n<=e;n++)o.push(`${t}px ${n}px ${c} ${s}`);return`text-shadow: ${o.join(", ")}, ${r}px ${r}px ${c} ${n}`},i=t=>`font-family: "${t}", "Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans", "Noto Sans CJK JP", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif`;function l(t,e,n=!1){const r=new RegExp(n?`\\\\${e}\\((.*?)\\)`:`\\\\${e}([^\\\\}]*)`),c=t.match(r);if(c)return{overrides:t.replace(c[0],""),params:n?c[1].split(","):c[1]}}t.exports=class extends r{constructor(t,e){super("ass",e),t=t.replace(/\r\n/g,"\n");try{this.blocks=this.parseBlocks(t),this.subs=this.parseBlock(this.blocks.subs),this.parseInfo(this.blocks.info),this.parseSubTimings(),this.parseStyles(this.parseBlock(this.blocks.styles)),this.parseSubOverrideTags()}catch(t){console.error("ASS PARSE ERROR",t),this.subs=[]}}serialize(){return JSON.stringify({info:this.info,styles:this.styles,subs:this.subs},null,4)}debugInfo(){return[{title:"Number of styles",detail:Object.keys(this.styles).length},{title:"Number of subtitles",detail:this.subs.length}]}parseInfo(){this.info={},this.blocks.info.split("\n").forEach(t=>{const[e,n]=t.split(": ");this.info[c(e)]=n})}scaleHeight(t){return`${t/+this.info.playResY*100}vh`}scaleWidth(t){return`${t/+this.info.playResX*100}vw`}parseBlocks(t){const e=t.split(/\n(?=\[)/),n=t=>e.find(e=>{e=e.trim();const[n,r]=e.match(/^\[(.*?)]/);return r===t}).replace(/.*\n/,"").trim();return{info:n("Script Info"),styles:n("V4+ Styles"),subs:n("Events")}}parseBlock(t){const[e,...n]=t.split("\n"),r=(t,e=1/0)=>{let[n,r,c]=t.match(/(\w*): (.*)/);return c=c.split(","),c.length>e&&(c[e-1]=c.slice(e-1).join(","),c.splice(e,1/0)),{type:r,attributes:c}},s=r(e);return n.reduce((t,e)=>{if(!e||";"===e.charAt(0)||0===e.indexOf("Comment: "))return t;const n=r(e,s.attributes.length),o={dataType:n.type.toLowerCase()};return s.attributes.forEach((t,e)=>{t=t.trim();const r=c(t);o[r]=n.attributes[e]}),o.style="*Default"===o.style?"Default":o.style,t.push(o),t},[])}parseSubTimings(){this.subs.forEach(t=>{t.start=this.timeToMs(t.start),t.end=this.timeToMs(t.end)})}parseStyles(t){const e={};t.forEach(t=>{for(const e of Object.keys(t).filter(t=>/colour/i.test(t)))t[e]=s(t[e]);t.name="*Default"===t.name?"Default":t.name;const n=[],{primaryColour:r,secondaryColour:c,outlineColour:l,backColour:a,borderStyle:u,outline:b,shadow:d,fontname:f,fontsize:p,bold:O,italic:j,underline:x,strikeOut:h}=t;r&&n.push(`color: ${r}`),f&&n.push(i(f)),"1"===u?n.push(o(l,b,a,d)):"3"===u&&n.push(`background-color: ${a}`),"-1"===O&&n.push("font-weight: bold"),"-1"===j&&n.push("font-style: italic"),"-1"!==x&&"-1"!==h||n.push(`text-decoration: ${"-1"===x?"underline":""} ${"-1"===h?"line-through":""}`),e[t.name]={inline:n.join(";"),...this.genScaledFont(p),raw:t}}),this.styles=e}genScaledFont(t){return{fontScaled:this.scaleHeight(.75*t),fontMax:`${t}px`,fontScalingThreshold:+this.info.playResY,fontRaw:t}}parseSubOverrideTags(){this.subs.forEach(t=>{if(t.rawText=t.text,t.text=t.text.replace("\\N","\n"),!/{.+?}/.test(t.text))return;const e=t=>t.replace(/{.*?}/g,"");t.styledText=[];const n=function*(t){const e=/({.*?}[^{]*)/g;let n;const r=t.indexOf("{");for(r>0&&(yield t.substring(0,r));null!==(n=e.exec(t));)yield n[1]}(t.text);let r=[];for(const u of n){const n=[],b={text:e(u),fadeIn:0,fadeOut:0,inline:""};let d,f,p,O,j,x=u.match(/{.*?}/),h=x?x[0]:"";function c(t,e=!1,n=(()=>{})){const r=l(h,t,e);r&&(n(r.params),h=r.overrides)}function a(t,e,n){const r=t.map((t,n)=>{const r=Array.isArray(e)?e[n]:e,c=l(h,t,r);if(c)return h=c.overrides,c.params});r.some(t=>void 0!==t)&&n(...r)}if(c("fscx"),c("fscy"),c("3c",!1,t=>{d=t}),c("4c",!1,t=>{f=t}),c("bord",!1,t=>{p=t}),c("shad",!1,t=>{O=t}),c("blur",!1,t=>{j=t}),c("be",!1,t=>{j=t}),[d,f,p,O,j].some(t=>void 0!==t)){const e=this.styles[t.style],n=(t,n)=>void 0!==t?t:e.raw[n];e&&(d=n(s(d),"outlineColour"),f=n(s(f),"backColour"),p=n(p,"outline"),O=n(O,"shadow"),r.push(o(d,p,f,O,j)))}a(["pos","an","org"],[!0,!1,!0],(t,e="5",c)=>{if(t){const[s,o]=t;n.push(`position: fixed; left: ${this.scaleWidth(s)}; top: ${this.scaleHeight(o)}`);const i={1:"50%, -150%",2:"-50%, -150%",3:"-150%, -150%",4:"50%, -50%",5:"-50%, -50%",6:"-150%, -50%",7:"50%, 50%",8:"-50%, 50%",9:"-150%, 50%"}[e];if(n.push(`transform: translate(${i})`),c){const[t,e]=c;r.push(`transform-origin: ${this.scaleWidth(t)} ${this.scaleHeight(e)}`)}}}),a(["frx","fry","frz"],!1,(t,e,c)=>{const s=[],o=(t,e,n=1)=>{if(void 0!==t)return t=parseFloat(t)*n,s.push(`rotate3d(${e.join(", ")}, ${t}deg)`)};o(t,[1,0,0]),o(c,[0,0,1],-1),o(e,[0,1,0]),s.length&&(n.push("perspective: 200px"),r.push(`display: block; transform: ${s.join(" ")}`))}),c("fad",!0,([e,n])=>{b.fadeIn=e,b.fadeOut=n,t.end-=n}),c("fsp",!1,t=>{r.push(`letter-spacing: ${t}px`)}),c("fs",!1,t=>{Object.assign(b,this.genScaledFont(t))});const m=[];c("u",!1,t=>{m.push("underline")}),c("s",!1,t=>{m.push("line-through")}),r.push(`text-decoration: ${m.length?m.join(" "):"none"}`),c("b",!1,t=>{r.push(`font-weight: ${t?"bold":"normal"}`)}),c("i",!1,t=>{r.push(`font-style: ${t?"italic":"normal"}`)}),c("fn",!1,t=>{r.push(i(t))}),c("1c",!1,t=>{r.push(`color: ${s(t)}`)}),c("r",!1,t=>{if(t){const e=this.styles[t];r=[e.inline],Object.assign(b,this.genScaledFont(e.fontRaw))}else r=[]}),b.inline=r.join(";"),t.styledText.push(b),n.length&&(t.inline=n.join(";"))}t.text=e(t.text)})}}},,function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(2),s=n(3),o=n(1);function i(t,e,n){const c=getComputedStyle(t),s="none"===c.transform?"":c.transform,i=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/i,u=(e.from.top-e.to.top)/l,b=Math.sqrt(a*a+u*u),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=o.b}=n;return{delay:d,duration:Object(r.A)(f)?f(b):f,easing:p,css:(t,e)=>`transform: ${s} translate(${e*a}px, ${e*u}px);`}}const l=[];function a(t,e=r.E){let n;const c=[];function s(e){if(Object(r.K)(t,e)&&(t=e,n)){const e=!l.length;for(let e=0;e<c.length;e+=1){const n=c[e];n[1](),l.push(n,t)}if(e){for(let t=0;t<l.length;t+=2)l[t][0](l[t+1]);l.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,i=r.E){const l=[o,i];return c.push(l),1===c.length&&(n=e(s)||r.E),o(t),()=>{const t=c.indexOf(l);-1!==t&&c.splice(t,1),0===c.length&&(n(),n=null)}}}}function u(t){return"[object Date]"===Object.prototype.toString.call(t)}function b(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>b(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(u(t)&&u(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach(n=>{r[n]=b(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=r[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function d(t,e,n){const r=t.slice();return r[24]=e[n],r}function f(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function p(t){let e,n,c,s,o,i,l,a,u,b,p,O,h,m,g,y,v,$,w,k,S,C,E,R,z,B,N,T,P,q,_,M,A,U,V,I,F,H,L,D,K,G,J,W,Y,X,Q,Z,tt,et,nt,rt,ct,st,ot,it=[],lt=new Map,at=t[1].fileName+"",ut=t[2]>0?"+":"",bt=(t[2]/1e3).toFixed(1)+"",dt=t[0];const ft=t=>t[27].text;for(let e=0;e<dt.length;e+=1){let n=f(t,dt,e),r=ft(n);lt.set(r,it[e]=j(r,n))}let pt=t[1].debugInfo(),Ot=[];for(let e=0;e<pt.length;e+=1)Ot[e]=x(d(t,pt,e));return{c(){e=Object(r.r)("div"),n=Object(r.r)("button"),c=Object(r.R)("Recent Subtitles"),o=Object(r.O)(),i=Object(r.r)("button"),l=Object(r.R)("Settings"),u=Object(r.O)(),b=Object(r.r)("button"),p=Object(r.R)("Debug"),h=Object(r.O)(),m=Object(r.r)("div"),g=Object(r.r)("h2"),g.textContent="Recent Subtitles",y=Object(r.O)(),v=Object(r.r)("ul");for(let t=0;t<it.length;t+=1)it[t].c();$=Object(r.O)(),w=Object(r.r)("div"),k=Object(r.r)("h2"),k.textContent="Settings",S=Object(r.O)(),C=Object(r.r)("button"),C.textContent="Reselect subtitles",E=Object(r.O)(),R=Object(r.r)("button"),R.textContent="Realign subtitles",z=Object(r.O)(),B=Object(r.r)("br"),N=Object(r.O)(),T=Object(r.r)("input"),P=Object(r.O)(),q=Object(r.r)("label"),q.textContent="Show subs over video",_=Object(r.O)(),M=Object(r.r)("br"),A=Object(r.O)(),U=Object(r.r)("input"),V=Object(r.O)(),I=Object(r.r)("label"),I.textContent="Pause when tray is open",F=Object(r.O)(),H=Object(r.r)("div"),L=Object(r.r)("h2"),L.textContent="Debug Information",D=Object(r.O)(),K=Object(r.r)("dl"),G=Object(r.r)("dt"),G.textContent="Subtitles File",J=Object(r.r)("dd"),W=Object(r.R)(at),Y=Object(r.r)("dt"),Y.textContent="Alignment",X=Object(r.r)("dd"),Q=Object(r.R)(ut),Z=Object(r.R)(bt),tt=Object(r.R)(" seconds");for(let t=0;t<Ot.length;t+=1)Ot[t].c();et=Object(r.O)(),nt=Object(r.r)("a"),rt=Object(r.R)("⬇ Download Parsed Subtitles"),n.disabled=s="recent"===t[4],i.disabled=a="settings"===t[4],b.disabled=O="debug"===t[4],Object(r.f)(e,"class","tray-tab-buttons svelte-1u14c9m"),Object(r.f)(g,"class","svelte-1u14c9m"),Object(r.f)(v,"class","recent-subs svelte-1u14c9m"),Object(r.f)(m,"class","tab svelte-1u14c9m"),Object(r.T)(m,"tab-active","recent"===t[4]),Object(r.f)(k,"class","svelte-1u14c9m"),Object(r.f)(T,"id","show-subs"),Object(r.f)(T,"type","checkbox"),T.checked=!0,Object(r.f)(q,"for","show-subs"),Object(r.f)(U,"id","pause-on-tray"),Object(r.f)(U,"type","checkbox"),Object(r.f)(I,"for","pause-on-tray"),Object(r.f)(w,"class","tab svelte-1u14c9m"),Object(r.T)(w,"tab-active","settings"===t[4]),Object(r.f)(L,"class","svelte-1u14c9m"),Object(r.f)(G,"class","svelte-1u14c9m"),Object(r.f)(J,"class","svelte-1u14c9m"),Object(r.f)(Y,"class","svelte-1u14c9m"),Object(r.f)(X,"class","svelte-1u14c9m"),Object(r.f)(nt,"href",ct=t[10]()),Object(r.f)(nt,"download","parsed-subtitles.json"),Object(r.f)(nt,"class","svelte-1u14c9m"),Object(r.f)(H,"class","tab svelte-1u14c9m"),Object(r.T)(H,"tab-active","debug"===t[4])},m(s,a){Object(r.z)(s,e,a),Object(r.d)(e,n),Object(r.d)(n,c),Object(r.d)(e,o),Object(r.d)(e,i),Object(r.d)(i,l),Object(r.d)(e,u),Object(r.d)(e,b),Object(r.d)(b,p),Object(r.z)(s,h,a),Object(r.z)(s,m,a),Object(r.d)(m,g),Object(r.d)(m,y),Object(r.d)(m,v);for(let t=0;t<it.length;t+=1)it[t].m(v,null);Object(r.z)(s,$,a),Object(r.z)(s,w,a),Object(r.d)(w,k),Object(r.d)(w,S),Object(r.d)(w,C),Object(r.d)(w,E),Object(r.d)(w,R),Object(r.d)(w,z),Object(r.d)(w,B),Object(r.d)(w,N),Object(r.d)(w,T),Object(r.d)(w,P),Object(r.d)(w,q),Object(r.d)(w,_),Object(r.d)(w,M),Object(r.d)(w,A),Object(r.d)(w,U),U.checked=t[5],Object(r.d)(w,V),Object(r.d)(w,I),Object(r.z)(s,F,a),Object(r.z)(s,H,a),Object(r.d)(H,L),Object(r.d)(H,D),Object(r.d)(H,K),Object(r.d)(K,G),Object(r.d)(K,J),Object(r.d)(J,W),Object(r.d)(K,Y),Object(r.d)(K,X),Object(r.d)(X,Q),Object(r.d)(X,Z),Object(r.d)(X,tt);for(let t=0;t<Ot.length;t+=1)Ot[t].m(K,null);Object(r.d)(H,et),Object(r.d)(H,nt),Object(r.d)(nt,rt),st=!0,ot=[Object(r.B)(n,"click",t[17]),Object(r.B)(i,"click",t[18]),Object(r.B)(b,"click",t[19]),Object(r.B)(C,"click",t[21]),Object(r.B)(R,"click",t[22]),Object(r.B)(T,"change",t[12]("show-subs")),Object(r.B)(U,"change",t[23])]},p(t,e){if((!st||16&e&&s!==(s="recent"===t[4]))&&(n.disabled=s),(!st||16&e&&a!==(a="settings"===t[4]))&&(i.disabled=a),(!st||16&e&&O!==(O="debug"===t[4]))&&(b.disabled=O),641&e){const n=t[0];Object(r.w)();for(let t=0;t<it.length;t+=1)it[t].r();it=Object(r.W)(it,e,ft,1,t,n,lt,v,r.t,j,null,f);for(let t=0;t<it.length;t+=1)it[t].a();Object(r.g)()}if(16&e&&Object(r.T)(m,"tab-active","recent"===t[4]),32&e&&(U.checked=t[5]),16&e&&Object(r.T)(w,"tab-active","settings"===t[4]),(!st||2&e)&&at!==(at=t[1].fileName+"")&&Object(r.L)(W,at),(!st||4&e)&&ut!==(ut=t[2]>0?"+":"")&&Object(r.L)(Q,ut),(!st||4&e)&&bt!==(bt=(t[2]/1e3).toFixed(1)+"")&&Object(r.L)(Z,bt),2&e){let n;for(pt=t[1].debugInfo(),n=0;n<pt.length;n+=1){const r=d(t,pt,n);Ot[n]?Ot[n].p(r,e):(Ot[n]=x(r),Ot[n].c(),Ot[n].m(K,null))}for(;n<Ot.length;n+=1)Ot[n].d(1);Ot.length=pt.length}16&e&&Object(r.T)(H,"tab-active","debug"===t[4])},i(t){if(!st){for(let t=0;t<dt.length;t+=1)Object(r.U)(it[t]);st=!0}},o(t){for(let t=0;t<it.length;t+=1)Object(r.V)(it[t]);st=!1},d(t){t&&Object(r.q)(e),t&&Object(r.q)(h),t&&Object(r.q)(m);for(let t=0;t<it.length;t+=1)it[t].d();t&&Object(r.q)($),t&&Object(r.q)(w),t&&Object(r.q)(F),t&&Object(r.q)(H),Object(r.p)(Ot,t),Object(r.J)(ot)}}}function O(t){let e,n;return{c(){e=Object(r.r)("button"),e.textContent="Select Subtitles",Object(r.f)(e,"class","svelte-1u14c9m")},m(c,s){Object(r.z)(c,e,s),n=Object(r.B)(e,"click",t[16])},p:r.E,i:r.E,o:r.E,d(t){t&&Object(r.q)(e),n()}}}function j(t,e){let n,c,o,l,a,u,b,d,f,p,O,j=e[27].text+"",x=r.E;return{key:t,first:null,c(){n=Object(r.r)("li"),c=Object(r.r)("a"),o=Object(r.R)(j),a=Object(r.O)(),Object(r.f)(c,"target","_blank"),Object(r.f)(c,"href",l=`https://jisho.org/search/${encodeURIComponent(e[27].text.trim())}`),Object(r.f)(c,"rel","noopener noreferrer"),Object(r.f)(c,"class","svelte-1u14c9m"),Object(r.f)(n,"style",u=e[9](e[29])),Object(r.f)(n,"class","svelte-1u14c9m"),this.first=n},m(t,s){Object(r.z)(t,n,s),Object(r.d)(n,c),Object(r.d)(c,o),Object(r.d)(n,a),p=!0,O=Object(r.B)(c,"click",e[20])},p(t,e){(!p||1&e)&&j!==(j=t[27].text+"")&&Object(r.L)(o,j),(!p||1&e&&l!==(l=`https://jisho.org/search/${encodeURIComponent(t[27].text.trim())}`))&&Object(r.f)(c,"href",l),(!p||1&e&&u!==(u=t[9](t[29])))&&Object(r.f)(n,"style",u)},r(){f=n.getBoundingClientRect()},f(){Object(r.u)(n),x(),Object(r.c)(n,f)},a(){x(),x=Object(r.j)(n,f,i,{duration:200})},i(t){p||(Object(r.b)(()=>{d&&d.end(1),b||(b=Object(r.m)(n,s.b,{y:-50,duration:200})),b.start()}),p=!0)},o(t){b&&b.invalidate(),d=Object(r.n)(n,s.b,{y:50,duration:200}),p=!1},d(t){t&&Object(r.q)(n),t&&d&&d.end(),O()}}}function x(t){let e,n,c,s,o=t[24].title+"",i=t[24].detail+"";return{c(){e=Object(r.r)("dt"),n=Object(r.R)(o),c=Object(r.r)("dd"),s=Object(r.R)(i),Object(r.f)(e,"class","svelte-1u14c9m"),Object(r.f)(c,"class","svelte-1u14c9m")},m(t,o){Object(r.z)(t,e,o),Object(r.d)(e,n),Object(r.z)(t,c,o),Object(r.d)(c,s)},p(t,e){2&e&&o!==(o=t[24].title+"")&&Object(r.L)(n,o),2&e&&i!==(i=t[24].detail+"")&&Object(r.L)(s,i)},d(t){t&&Object(r.q)(e),t&&Object(r.q)(c)}}}function h(t){let e,n,c,s,o,i,l;const a=[O,p],u=[];function b(t,e){return"cancelled"===t[3]?0:"normal"===t[3]?1:-1}return~(s=b(t))&&(o=u[s]=a[s](t)),{c(){e=Object(r.r)("div"),n=Object(r.r)("h1"),n.textContent="VRV Subtitler",c=Object(r.O)(),o&&o.c(),Object(r.f)(n,"class","svelte-1u14c9m"),Object(r.f)(e,"class","tray svelte-1u14c9m"),Object(r.N)(e,"right",t[6]+"rem")},m(o,a){Object(r.z)(o,e,a),Object(r.d)(e,n),Object(r.d)(e,c),~s&&u[s].m(e,null),i=!0,l=[Object(r.B)(e,"mouseenter",t[11](!0)),Object(r.B)(e,"mouseleave",t[11](!1))]},p(t,[n]){let c=s;s=b(t),s===c?~s&&u[s].p(t,n):(o&&(Object(r.w)(),Object(r.V)(u[c],1,1,()=>{u[c]=null}),Object(r.g)()),~s?(o=u[s],o||(o=u[s]=a[s](t),o.c()),Object(r.U)(o,1),o.m(e,null)):o=null),(!i||64&n)&&Object(r.N)(e,"right",t[6]+"rem")},i(t){i||(Object(r.U)(o),i=!0)},o(t){Object(r.V)(o),i=!1},d(t){t&&Object(r.q)(e),~s&&u[s].d(),Object(r.J)(l)}}}function m(t,e,n){let s;const i=Object(c.a)(),l={hidden:-26,shown:0},u=function(t,e={}){const n=a(t);let c,s=t;function i(i,l){if(null==t)return n.set(t=i),Promise.resolve();s=i;let a=c,u=!1,{delay:d=0,duration:f=400,easing:p=o.c,interpolate:O=b}=Object(r.e)(Object(r.e)({},e),l);const j=Object(r.F)()+d;let x;return c=Object(r.C)(e=>{if(e<j)return!0;u||(x=O(t,i),"function"==typeof f&&(f=f(t,i)),u=!0),a&&(a.abort(),a=null);const r=e-j;return r>f?(n.set(t=i),!1):(n.set(t=x(p(r/f))),!0)}),c.promise}return{set:i,update:(e,n)=>i(e(s,t),n),subscribe:n.subscribe}}(l.hidden,{duration:300,easing:o.b});Object(r.h)(t,u,t=>n(6,s=t));let{recentSubs:d=[]}=e,{subtitles:f={}}=e,{alignment:p=0}=e,{mode:O="normal"}=e;let j="recent",x=!0;return t.$set=t=>{"recentSubs"in t&&n(0,d=t.recentSubs),"subtitles"in t&&n(1,f=t.subtitles),"alignment"in t&&n(2,p=t.alignment),"mode"in t&&n(3,O=t.mode)},[d,f,p,O,j,x,s,i,u,function(t){return`font-size: ${20*(.5+(t+1)/d.length*.5)}px`},function(){const t=new Blob([f.serialize()],{type:"application/json"});return URL.createObjectURL(t)},function(t){return()=>{u.set(t?l.shown:l.hidden),t&&!x||i("tray-pauser",t)}},function(t){return e=>{i(t,e.target.checked)}},l,!1,!0,()=>i("restart"),()=>n(4,j="recent"),()=>n(4,j="settings"),()=>n(4,j="debug"),()=>i("define-pauser"),()=>i("restart"),()=>i("realign"),function(){x=this.checked,n(5,x)}]}class g extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1u14c9m-style")||((e=Object(r.r)("style")).id="svelte-1u14c9m-style",e.textContent=".tray.svelte-1u14c9m.svelte-1u14c9m{width:28rem;margin-top:0.5rem;background:rgba(255, 255, 255, 0.2);position:fixed;right:0;top:0;color:white;height:calc(100% - 5rem);display:flex;flex-direction:column}.tray.svelte-1u14c9m>.svelte-1u14c9m{visibility:hidden}.tray.svelte-1u14c9m.svelte-1u14c9m:hover{background:#111218;overflow:auto;border-radius:3px}.tray.svelte-1u14c9m:hover>.svelte-1u14c9m{visibility:visible}.tray.svelte-1u14c9m h1.svelte-1u14c9m{font-size:2rem;padding:0.5rem 0;border-radius:3px;margin:0}.tray.svelte-1u14c9m h2.svelte-1u14c9m{text-decoration:underline;margin:0 0 0.4rem}ul.svelte-1u14c9m.svelte-1u14c9m{list-style:none;padding:0;display:flex;flex-direction:column-reverse}a.svelte-1u14c9m.svelte-1u14c9m{color:white;transform:scaleY(0);transform-origin:top;transition:transform 0.5s ease;text-decoration:none}a.svelte-1u14c9m.svelte-1u14c9m:hover{color:#0aff8c;cursor:pointer;text-decoration:underline}li.svelte-1u14c9m.svelte-1u14c9m{padding-bottom:0.2rem;white-space:pre}li.svelte-1u14c9m.svelte-1u14c9m:not(:first-of-type)::after{content:' ';height:0;position:relative;border:1px solid #4a4a6a;display:block;margin:0 auto;border-radius:4px}dt.svelte-1u14c9m.svelte-1u14c9m{font-weight:bold}dd.svelte-1u14c9m.svelte-1u14c9m{font-style:italic}.tab.svelte-1u14c9m.svelte-1u14c9m{display:none;text-align:left;padding:2rem;background:#1c1825}.tab-active.svelte-1u14c9m.svelte-1u14c9m{display:block;flex:1}.tray-tab-buttons.svelte-1u14c9m.svelte-1u14c9m{margin:0.2rem;border-bottom:2px solid #f47521}",Object(r.d)(document.head,e)),Object(r.y)(this,t,m,h,r.K,{recentSubs:0,subtitles:1,alignment:2,mode:3})}}var y=g;function v(t,e,n){const r=t.slice();return r[11]=e[n],r}function $(t,e,n){const r=t.slice();return r[8]=e[n],r}function w(t){let e,n,c=t[0],s=[];for(let e=0;e<c.length;e+=1)s[e]=E($(t,c,e));const o=t=>Object(r.V)(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=Object(r.s)()},m(t,c){for(let e=0;e<s.length;e+=1)s[e].m(t,c);Object(r.z)(t,e,c),n=!0},p(t,n){if(13&n){let i;for(c=t[0],i=0;i<c.length;i+=1){const o=$(t,c,i);s[i]?(s[i].p(o,n),Object(r.U)(s[i],1)):(s[i]=E(o),s[i].c(),Object(r.U)(s[i],1),s[i].m(e.parentNode,e))}for(Object(r.w)(),i=c.length;i<s.length;i+=1)o(i);Object(r.g)()}},i(t){if(!n){for(let t=0;t<c.length;t+=1)Object(r.U)(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Object(r.V)(s[t]);n=!1},d(t){Object(r.p)(s,t),t&&Object(r.q)(e)}}}function k(t){let e,n=t[8].text+"";return{c(){e=Object(r.R)(n)},m(t,n){Object(r.z)(t,e,n)},p(t,c){1&c&&n!==(n=t[8].text+"")&&Object(r.L)(e,n)},i:r.E,o:r.E,d(t){t&&Object(r.q)(e)}}}function S(t){let e,n,c=t[8].styledText,s=[];for(let e=0;e<c.length;e+=1)s[e]=C(v(t,c,e));const o=t=>Object(r.V)(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=Object(r.s)()},m(t,c){for(let e=0;e<s.length;e+=1)s[e].m(t,c);Object(r.z)(t,e,c),n=!0},p(t,n){if(1&n){let i;for(c=t[8].styledText,i=0;i<c.length;i+=1){const o=v(t,c,i);s[i]?(s[i].p(o,n),Object(r.U)(s[i],1)):(s[i]=C(o),s[i].c(),Object(r.U)(s[i],1),s[i].m(e.parentNode,e))}for(Object(r.w)(),i=c.length;i<s.length;i+=1)o(i);Object(r.g)()}},i(t){if(!n){for(let t=0;t<c.length;t+=1)Object(r.U)(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Object(r.V)(s[t]);n=!1},d(t){Object(r.p)(s,t),t&&Object(r.q)(e)}}}function C(t){let e,n,c,o,i,l,a=t[11].text+"";return{c(){e=Object(r.r)("span"),n=Object(r.R)(a),Object(r.f)(e,"style",c=N(t[11]))},m(t,c){Object(r.z)(t,e,c),Object(r.d)(e,n),l=!0},p(t,s){(!l||1&s)&&a!==(a=t[11].text+"")&&Object(r.L)(n,a),(!l||1&s&&c!==(c=N(t[11])))&&Object(r.f)(e,"style",c)},i(n){l||(Object(r.b)(()=>{i&&i.end(1),o||(o=Object(r.m)(e,s.a,t[11].fadeIn)),o.start()}),l=!0)},o(n){o&&o.invalidate(),i=Object(r.n)(e,s.a,t[11].fadeOut),l=!1},d(t){t&&Object(r.q)(e),t&&i&&i.end()}}}function E(t){let e,n,c,s,o,i,l,a;const u=[S,k],b=[];function d(t,e){return t[8].styledText?0:1}function f(...e){return t[7](t[8],...e)}return n=d(t),c=b[n]=u[n](t),{c(){e=Object(r.r)("p"),c.c(),s=Object(r.O)(),Object(r.f)(e,"style",o=t[3](t[8])),Object(r.f)(e,"data-sub-style",i=t[8].style),Object(r.f)(e,"title","click to search this phrase on Jisho.org"),Object(r.f)(e,"class","svelte-ko7cxi")},m(t,c){Object(r.z)(t,e,c),b[n].m(e,null),Object(r.d)(e,s),l=!0,a=Object(r.B)(e,"click",f)},p(a,f){let p=n;n=d(t=a),n===p?b[n].p(t,f):(Object(r.w)(),Object(r.V)(b[p],1,1,()=>{b[p]=null}),Object(r.g)(),c=b[n],c||(c=b[n]=u[n](t),c.c()),Object(r.U)(c,1),c.m(e,s)),(!l||1&f&&o!==(o=t[3](t[8])))&&Object(r.f)(e,"style",o),(!l||1&f&&i!==(i=t[8].style))&&Object(r.f)(e,"data-sub-style",i)},i(t){l||(Object(r.U)(c),l=!0)},o(t){Object(r.V)(c),l=!1},d(t){t&&Object(r.q)(e),b[n].d(),a()}}}function R(t){let e,n,c=t[1]&&w(t);return{c(){e=Object(r.r)("div"),c&&c.c(),Object(r.f)(e,"class","subtitles")},m(t,s){Object(r.z)(t,e,s),c&&c.m(e,null),n=!0},p(t,[n]){t[1]?c?(c.p(t,n),Object(r.U)(c,1)):(c=w(t),c.c(),Object(r.U)(c,1),c.m(e,null)):c&&(Object(r.w)(),Object(r.V)(c,1,1,()=>{c=null}),Object(r.g)())},i(t){n||(Object(r.U)(c),n=!0)},o(t){Object(r.V)(c),n=!1},d(t){t&&Object(r.q)(e),c&&c.d()}}}function z(t){return t.fontScaled?`font-size: ${window.innerHeight>t.fontScalingThreshold?t.fontMax:t.fontScaled}`:""}function B(t){return t.filter(t=>!!t).join(";")}function N(t){return B([t.inline,z(t)])}function T(t,e,n){let{current:r=[]}=e,{styles:s={}}=e,{format:o=""}=e,{visible:i=!0}=e;const l=Object(c.a)();function a(t){l("define-pauser"),window.open(`https://jisho.org/search/${encodeURIComponent(t.trim())}`)}return t.$set=t=>{"current"in t&&n(0,r=t.current),"styles"in t&&n(4,s=t.styles),"format"in t&&n(5,o=t.format),"visible"in t&&n(1,i=t.visible)},[r,i,a,function(t){return"srt"===o?`font-size: ${1.5+1.5*(t.line?t.line:1)}rem; text-shadow: -4px -4px 0px rgba(9, 9, 9, 255), -4px -3px 0px rgba(9, 9, 9, 255), -4px -2px 0px rgba(9, 9, 9, 255), -4px -1px 0px rgba(9, 9, 9, 255), -4px 0px 0px rgba(9, 9, 9, 255), -4px 1px 0px rgba(9, 9, 9, 255), -4px 2px 0px rgba(9, 9, 9, 255), -4px 3px 0px rgba(9, 9, 9, 255), -4px 4px 0px rgba(9, 9, 9, 255), -3px -4px 0px rgba(9, 9, 9, 255), -3px -3px 0px rgba(9, 9, 9, 255), -3px -2px 0px rgba(9, 9, 9, 255), -3px -1px 0px rgba(9, 9, 9, 255), -3px 0px 0px rgba(9, 9, 9, 255), -3px 1px 0px rgba(9, 9, 9, 255), -3px 2px 0px rgba(9, 9, 9, 255), -3px 3px 0px rgba(9, 9, 9, 255), -3px 4px 0px rgba(9, 9, 9, 255), -2px -4px 0px rgba(9, 9, 9, 255), -2px -3px 0px rgba(9, 9, 9, 255), -2px -2px 0px rgba(9, 9, 9, 255), -2px -1px 0px rgba(9, 9, 9, 255), -2px 0px 0px rgba(9, 9, 9, 255), -2px 1px 0px rgba(9, 9, 9, 255), -2px 2px 0px rgba(9, 9, 9, 255), -2px 3px 0px rgba(9, 9, 9, 255), -2px 4px 0px rgba(9, 9, 9, 255), -1px -4px 0px rgba(9, 9, 9, 255), -1px -3px 0px rgba(9, 9, 9, 255), -1px -2px 0px rgba(9, 9, 9, 255), -1px -1px 0px rgba(9, 9, 9, 255), -1px 0px 0px rgba(9, 9, 9, 255), -1px 1px 0px rgba(9, 9, 9, 255), -1px 2px 0px rgba(9, 9, 9, 255), -1px 3px 0px rgba(9, 9, 9, 255), -1px 4px 0px rgba(9, 9, 9, 255), 0px -4px 0px rgba(9, 9, 9, 255), 0px -3px 0px rgba(9, 9, 9, 255), 0px -2px 0px rgba(9, 9, 9, 255), 0px -1px 0px rgba(9, 9, 9, 255), 0px 0px 0px rgba(9, 9, 9, 255), 0px 1px 0px rgba(9, 9, 9, 255), 0px 2px 0px rgba(9, 9, 9, 255), 0px 3px 0px rgba(9, 9, 9, 255), 0px 4px 0px rgba(9, 9, 9, 255), 1px -4px 0px rgba(9, 9, 9, 255), 1px -3px 0px rgba(9, 9, 9, 255), 1px -2px 0px rgba(9, 9, 9, 255), 1px -1px 0px rgba(9, 9, 9, 255), 1px 0px 0px rgba(9, 9, 9, 255), 1px 1px 0px rgba(9, 9, 9, 255), 1px 2px 0px rgba(9, 9, 9, 255), 1px 3px 0px rgba(9, 9, 9, 255), 1px 4px 0px rgba(9, 9, 9, 255), 2px -4px 0px rgba(9, 9, 9, 255), 2px -3px 0px rgba(9, 9, 9, 255), 2px -2px 0px rgba(9, 9, 9, 255), 2px -1px 0px rgba(9, 9, 9, 255), 2px 0px 0px rgba(9, 9, 9, 255), 2px 1px 0px rgba(9, 9, 9, 255), 2px 2px 0px rgba(9, 9, 9, 255), 2px 3px 0px rgba(9, 9, 9, 255), 2px 4px 0px rgba(9, 9, 9, 255), 3px -4px 0px rgba(9, 9, 9, 255), 3px -3px 0px rgba(9, 9, 9, 255), 3px -2px 0px rgba(9, 9, 9, 255), 3px -1px 0px rgba(9, 9, 9, 255), 3px 0px 0px rgba(9, 9, 9, 255), 3px 1px 0px rgba(9, 9, 9, 255), 3px 2px 0px rgba(9, 9, 9, 255), 3px 3px 0px rgba(9, 9, 9, 255), 3px 4px 0px rgba(9, 9, 9, 255), 4px -4px 0px rgba(9, 9, 9, 255), 4px -3px 0px rgba(9, 9, 9, 255), 4px -2px 0px rgba(9, 9, 9, 255), 4px -1px 0px rgba(9, 9, 9, 255), 4px 0px 0px rgba(9, 9, 9, 255), 4px 1px 0px rgba(9, 9, 9, 255), 4px 2px 0px rgba(9, 9, 9, 255), 4px 3px 0px rgba(9, 9, 9, 255), 4px 4px 0px rgba(9, 9, 9, 255), 2px 2px 0px rgba(20, 20, 20, 195)`:"ass"===o&&t.style in s?B([s[t.style].inline,z(s[t.style]),t.inline||"",z(t)]):void 0},s,o,l,t=>a(t.text)]}class P extends r.a{constructor(t){var e;super(),document.getElementById("svelte-ko7cxi-style")||((e=Object(r.r)("style")).id="svelte-ko7cxi-style",e.textContent='p.svelte-ko7cxi{cursor:pointer;color:white;margin:0;padding:0;white-space:pre;font-family:"Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans", "Noto Sans CJK JP", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif}p.svelte-ko7cxi:hover{color:#0aff8c !important}',Object(r.d)(document.head,e)),Object(r.y)(this,t,T,R,r.K,{current:0,styles:4,format:5,visible:1})}}var q=P;class _{constructor(){this.video=null,this.reasons=[]}setVideo(t){this.reasons=[],this.video=t}addPauser(t){this.reasons.includes("user-paused")&&!this.video.paused&&this.reasons.splice(this.reasons.indexOf("user-paused")),0===this.reasons.length&&this.video.paused&&this.reasons.push("user-paused"),this.reasons.push(t),this._checkPause()}removePauser(t){const e=this.reasons.indexOf(t);-1!==e&&(this.reasons.splice(e,1),this._checkPause())}_checkPause(){this.reasons.length?this.video.pause():this.video.play()}}var M=n(8),A=n.n(M),U=n(7),V=n.n(U);class I extends V.a{constructor(t,e){super("srt",e);const n=t.replace(/\r/g,"").split("\n\n");this.subs=n.reduce((t,e)=>{let n=e.trim().split("\n");function r(){n.shift()}try{/^\d*$/.test(n[0])&&r();let[e,c]=n[0].replace(/,/g,".").match(/^([\d:\.\-> ]*)/)[0].split(/\-\->/),s=n[0].match(/([a-zA-Z].*)/);s=s&&s.length?s[1]:"";const o=(t=>{const e=s.match(new RegExp(`${t}:([\\d\\.]*)%`));if(e)return parseInt(e[1],10)/100})("line")||1;r(),t.push({start:this.timeToMs(e),end:this.timeToMs(c),text:n.join("\n").replace(/<\/?c.Japanese>/g,""),line:o})}catch(t){}return t},[])}serialize(){return JSON.stringify(this.subs,null,4)}debugInfo(){return[{title:"Number of subtitles",detail:this.subs.length}]}}function F(t){let e,n,c,s,o,i,l;return{c(){e=Object(r.r)("div"),n=Object(r.r)("button"),n.textContent="⨯ Skip Subtitling For This Episode",c=Object(r.O)(),s=Object(r.r)("label"),s.textContent="≡ Select a subtitle file to begin",o=Object(r.O)(),i=Object(r.r)("input"),Object(r.f)(n,"class","small-button svelte-1n5tabm"),Object(r.f)(s,"for","srt-upload"),Object(r.f)(s,"class","svelte-1n5tabm"),Object(r.f)(i,"type","file"),Object(r.f)(i,"id","srt-upload"),Object(r.f)(i,"accept",".srt,.ass,.ssa"),Object(r.f)(i,"class","svelte-1n5tabm"),Object(r.f)(e,"class","column svelte-1n5tabm")},m(a,u){Object(r.z)(a,e,u),Object(r.d)(e,n),Object(r.d)(e,c),Object(r.d)(e,s),Object(r.d)(e,o),Object(r.d)(e,i),l=[Object(r.B)(n,"click",t[1]),Object(r.B)(i,"change",t[0])]},p:r.E,i:r.E,o:r.E,d(t){t&&Object(r.q)(e),Object(r.J)(l)}}}function H(t){const e=Object(c.a)();return[function(t){const n=t.target.files[0],r=new FileReader;r.onload=t=>{const r={ass:A.a,ssa:A.a,srt:I},[c,s]=n.name.match(/\.(\w{3})$/);e("subtitles-loaded",new r[s](t.target.result,n.name))},r.readAsText(n)},function(){e("cancel")}]}class L extends r.a{constructor(t){var e;super(),document.getElementById("svelte-1n5tabm-style")||((e=Object(r.r)("style")).id="svelte-1n5tabm-style",e.textContent=".column.svelte-1n5tabm.svelte-1n5tabm{display:flex;flex-direction:column}.column.svelte-1n5tabm>.svelte-1n5tabm{align-self:center;margin:0.5rem}label.svelte-1n5tabm.svelte-1n5tabm{background:#fd0;border:none;cursor:pointer;padding:10px;line-height:1;font-weight:bold;color:black;text-transform:uppercase;display:inline-block;font-size:1.2rem}label.svelte-1n5tabm.svelte-1n5tabm:hover{background:#ffea6d}input.svelte-1n5tabm.svelte-1n5tabm{display:none}",Object(r.d)(document.head,e)),Object(r.y)(this,t,H,F,r.K,{})}}var D=L;const{document:K}=r.v;function G(t){let e,n,c,s,o,i,l,a,u,b,d,f,p,O,j,x,h="number"==typeof t[3]&&!isNaN(t[3]),m=t[0].text+"",g=h&&function(t){let e,n,c,s,o,i,l,a=t[4]()+"";return{c(){e=Object(r.r)("button"),n=Object(r.R)("Use the last alignment for "),c=Object(r.r)("span"),c.textContent=`${t[2]}`,s=Object(r.R)(" ("),o=Object(r.R)(a),i=Object(r.R)(")"),Object(r.f)(c,"class","show-name svelte-n31nxo"),Object(r.f)(e,"class","svelte-n31nxo")},m(a,u){Object(r.z)(a,e,u),Object(r.d)(e,n),Object(r.d)(e,c),Object(r.d)(e,s),Object(r.d)(e,o),Object(r.d)(e,i),l=Object(r.B)(e,"click",t[5])},p:r.E,d(t){t&&Object(r.q)(e),l()}}}(t);return{c(){e=Object(r.r)("div"),n=Object(r.r)("button"),n.textContent="↺ Reselect Subtitles",c=Object(r.O)(),s=Object(r.r)("div"),g&&g.c(),o=Object(r.O)(),i=Object(r.r)("button"),i.innerHTML="No alignment adjustment<br>(use when you know the subtitles are timed properly)",l=Object(r.O)(),a=Object(r.r)("button"),a.textContent="Enter alignment manually",u=Object(r.O)(),b=Object(r.r)("button"),d=Object(r.R)("⇌ Click when the first line is said:\n\t\t"),f=Object(r.r)("br"),p=Object(r.O)(),O=Object(r.r)("pre"),j=Object(r.R)(m),Object(r.f)(n,"class","small-button svelte-n31nxo"),Object(r.f)(i,"class","svelte-n31nxo"),Object(r.f)(a,"class","svelte-n31nxo"),Object(r.f)(s,"class","row svelte-n31nxo"),Object(r.f)(b,"class","svelte-n31nxo"),Object(r.f)(e,"class","alignment-buttons svelte-n31nxo")},m(h,m){Object(r.z)(h,e,m),Object(r.d)(e,n),Object(r.d)(e,c),Object(r.d)(e,s),g&&g.m(s,null),Object(r.d)(s,o),Object(r.d)(s,i),Object(r.d)(s,l),Object(r.d)(s,a),Object(r.d)(e,u),Object(r.d)(e,b),Object(r.d)(b,d),Object(r.d)(b,f),Object(r.d)(b,p),Object(r.d)(b,O),Object(r.d)(O,j),x=[Object(r.B)(n,"click",t[11]),Object(r.B)(i,"click",t[12]),Object(r.B)(a,"click",t[6]),Object(r.B)(b,"click",t[7])]},p(t,[e]){h&&g.p(t,e),1&e&&m!==(m=t[0].text+"")&&Object(r.L)(j,m)},i:r.E,o:r.E,d(t){t&&Object(r.q)(e),g&&g.d(),Object(r.J)(x)}}}function J(t,e,n){let{firstSubtitle:r={}}=e;const s=Object(c.a)(),o=document.querySelector(".video-title"),i=o?o.textContent:"",l=`last-used-alignment-${i}`,a=parseInt(GM_getValue(l),10),u=(a/1e3).toFixed(1);function b(t){const e=document.querySelector("video"),n="number"==typeof t?t:1e3*e.currentTime-r.start-400;GM_setValue(l,n),s("set-align",n)}return t.$set=t=>{"firstSubtitle"in t&&n(0,r=t.firstSubtitle)},[r,s,i,a,function(){return 0===a?"no adjustment":a>0?`subtitles delayed by ${u} seconds`:`subtitles hastened by ${Math.abs(u)} seconds`},function(){b(a)},function(){const t=parseFloat(prompt("Enter an alignment in seconds. Positive numbers are for when the subtitles need to be delayed (subtitle file starts too soon). \nNegative numbers will play the subtitles earlier (subtitle file is too late).",u||""));isNaN(t)||b(1e3*t)},b,o,l,u,()=>s("reselect"),()=>b(0)]}class W extends r.a{constructor(t){var e;super(),K.getElementById("svelte-n31nxo-style")||((e=Object(r.r)("style")).id="svelte-n31nxo-style",e.textContent=".alignment-buttons.svelte-n31nxo.svelte-n31nxo{display:flex;flex-direction:column}.alignment-buttons.svelte-n31nxo button.svelte-n31nxo{margin:0.5rem;align-self:center}.row.svelte-n31nxo.svelte-n31nxo{display:flex;flex-direction:row;justify-content:center}.row.svelte-n31nxo button.svelte-n31nxo{max-width:15rem}.show-name.svelte-n31nxo.svelte-n31nxo{font-style:italic}",Object(r.d)(K.head,e)),Object(r.y)(this,t,J,G,r.K,{firstSubtitle:0})}}var Y=W;const{document:X}=r.v;function Q(t){let e;const n=new y({props:{mode:"cancelled"}});return n.$on("restart",t[7]),{c(){Object(r.l)(n.$$.fragment)},m(t,c){Object(r.D)(n,t,c),e=!0},p:r.E,i(t){e||(Object(r.U)(n.$$.fragment,t),e=!0)},o(t){Object(r.V)(n.$$.fragment,t),e=!1},d(t){Object(r.o)(n,t)}}}function Z(t){let e,n;const c=new q({props:{format:t[2].format,styles:t[2].styles,current:t[1],currentTime:t[6],visible:t[5]}});c.$on("define-pauser",t[11]);const s=new y({props:{recentSubs:t[4],subtitles:t[2],alignment:t[3]}});return s.$on("restart",t[7]),s.$on("tray-pauser",t[10]),s.$on("define-pauser",t[11]),s.$on("realign",t[19]),s.$on("show-subs",t[20]),{c(){Object(r.l)(c.$$.fragment),e=Object(r.O)(),Object(r.l)(s.$$.fragment)},m(t,o){Object(r.D)(c,t,o),Object(r.z)(t,e,o),Object(r.D)(s,t,o),n=!0},p(t,e){const n={};4&e&&(n.format=t[2].format),4&e&&(n.styles=t[2].styles),2&e&&(n.current=t[1]),32&e&&(n.visible=t[5]),c.$set(n);const r={};16&e&&(r.recentSubs=t[4]),4&e&&(r.subtitles=t[2]),8&e&&(r.alignment=t[3]),s.$set(r)},i(t){n||(Object(r.U)(c.$$.fragment,t),Object(r.U)(s.$$.fragment,t),n=!0)},o(t){Object(r.V)(c.$$.fragment,t),Object(r.V)(s.$$.fragment,t),n=!1},d(t){Object(r.o)(c,t),t&&Object(r.q)(e),Object(r.o)(s,t)}}}function tt(t){let e;const n=new Y({props:{firstSubtitle:t[2].firstSubtitle()}});return n.$on("set-align",t[8]),n.$on("reselect",t[18]),{c(){Object(r.l)(n.$$.fragment)},m(t,c){Object(r.D)(n,t,c),e=!0},p(t,e){const r={};4&e&&(r.firstSubtitle=t[2].firstSubtitle()),n.$set(r)},i(t){e||(Object(r.U)(n.$$.fragment,t),e=!0)},o(t){Object(r.V)(n.$$.fragment,t),e=!1},d(t){Object(r.o)(n,t)}}}function et(t){let e;const n=new D({});return n.$on("subtitles-loaded",t[9]),n.$on("cancel",t[17]),{c(){Object(r.l)(n.$$.fragment)},m(t,c){Object(r.D)(n,t,c),e=!0},p:r.E,i(t){e||(Object(r.U)(n.$$.fragment,t),e=!0)},o(t){Object(r.V)(n.$$.fragment,t),e=!1},d(t){Object(r.o)(n,t)}}}function nt(t){let e,n,c,s;const o=[et,tt,Z,Q],i=[];function l(t,e){return"prompt"===t[0]?0:"align"===t[0]?1:"play"===t[0]?2:"cancelled"===t[0]?3:-1}return~(n=l(t))&&(c=i[n]=o[n](t)),{c(){e=Object(r.r)("div"),c&&c.c(),Object(r.f)(e,"class","subtitles-app svelte-1noo31a")},m(t,c){Object(r.z)(t,e,c),~n&&i[n].m(e,null),s=!0},p(t,[s]){let a=n;n=l(t),n===a?~n&&i[n].p(t,s):(c&&(Object(r.w)(),Object(r.V)(i[a],1,1,()=>{i[a]=null}),Object(r.g)()),~n?(c=i[n],c||(c=i[n]=o[n](t),c.c()),Object(r.U)(c,1),c.m(e,null)):c=null)},i(t){s||(Object(r.U)(c),s=!0)},o(t){Object(r.V)(c),s=!1},d(t){t&&Object(r.q)(e),~n&&i[n].d()}}}function rt(t,e,n){const r=new _;let s="prompt",o=[],i=null,l=null,a=-1,u=[],b=!0;function d(){n(0,s="prompt"),n(2,i=null),n(1,o=[])}function f(t){let e=t[t.length-1],r=u[u.length-1];!e||r&&e.text===r.text||n(4,u=[...u,e]),u.length>10&&n(4,u=u.slice(u.length-10))}function p(){"play"===s&&(n(1,o=i.getSubs(1e3*l.currentTime-a)),f(o),requestAnimationFrame(p))}Object(c.b)(()=>{document.addEventListener("visibilitychange",()=>{document.hidden||r.removePauser("define")});let t="";setInterval(()=>{const e=document.querySelector("video").getAttribute("src");e&&e!==t&&(t=e,d())},50)});return[s,o,i,a,u,b,"",d,function(t){l=document.querySelector("video"),r.setVideo(l),n(3,a=t.detail),n(4,u=[]),n(0,s="play"),p()},function(t){n(2,i=t.detail),0===i.subs.length?(console.log("subtitles object failed to parse: ",i),alert(`No subtitles were parsed from the selected .${i.format} file, verify nothing is wrong with the file. If it appears normal please submit a bug report with the episode and the subtitles file you used to the issue tracker!`)):n(0,s="align")},function(t){t.detail?r.addPauser("tray"):r.removePauser("tray")},function(){r.addPauser("define")},l,"last-used-alignment",r,f,p,()=>n(0,s="cancelled"),()=>n(0,s="prompt"),()=>n(0,s="align"),t=>n(5,b=t.detail)]}class ct extends r.a{constructor(t){var e;super(),X.getElementById("svelte-1noo31a-style")||((e=Object(r.r)("style")).id="svelte-1noo31a-style",e.textContent=".subtitles-app.svelte-1noo31a{position:relative}.subtitles-app.svelte-1noo31a>*{z-index:1000000000}.subtitles-app.svelte-1noo31a button{background:#fd0;border:none;padding:10px;line-height:1;font-weight:bold;color:black;text-transform:uppercase;font-size:0.9rem}.subtitles-app.svelte-1noo31a .small-button{font-size:0.6rem}.subtitles-app.svelte-1noo31a button:disabled{background:#2a3450}.subtitles-app.svelte-1noo31a button:not(:disabled):hover{background:#ffea6d;cursor:pointer}",Object(r.d)(X.head,e)),Object(r.y)(this,t,rt,nt,r.K,{})}}var st=ct;const ot=document.createElement("div");document.body.appendChild(ot),ot.id="sheodox-vrv-subtitler",ot.style.height="100%",ot.style.width="100%";new st({target:ot})}]);
