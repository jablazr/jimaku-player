// ==UserScript==
// @name         字幕プレーヤー
// @namespace    https://github.com/sheodox
// @version      0.1.47
// @description  Study Japanese by using Japanese subtitles on VRV!
// @author       sheodox
// @match        https://static.vrv.co/vilos/player.html*
// @match        https://static.crunchyroll.com/vilos-v2/web/vilos/player.html*
// @grant        GM_getValue
// @grant        GM_setValue
// ==/UserScript==

!function(t){var e={};function n(c){if(e[c])return e[c].exports;var r=e[c]={i:c,l:!1,exports:{}};return t[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,c){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(c,r,function(e){return t[e]}.bind(null,r));return c},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e,n){"use strict";function c(){}n.d(e,"a",(function(){return Bt})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return ht})),n.d(e,"d",(function(){return pt})),n.d(e,"e",(function(){return et})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return Ft})),n.d(e,"j",(function(){return bt})),n.d(e,"k",(function(){return it})),n.d(e,"l",(function(){return Ht})),n.d(e,"m",(function(){return j})),n.d(e,"n",(function(){return m})),n.d(e,"o",(function(){return ot})),n.d(e,"p",(function(){return Q})),n.d(e,"q",(function(){return Tt})),n.d(e,"r",(function(){return Gt})),n.d(e,"s",(function(){return At})),n.d(e,"t",(function(){return Pt})),n.d(e,"u",(function(){return O})),n.d(e,"v",(function(){return Xt})),n.d(e,"w",(function(){return _})),n.d(e,"x",(function(){return H})),n.d(e,"y",(function(){return M})),n.d(e,"z",(function(){return T})),n.d(e,"A",(function(){return It})),n.d(e,"B",(function(){return tt})),n.d(e,"C",(function(){return d})),n.d(e,"D",(function(){return Jt})),n.d(e,"E",(function(){return Ct})),n.d(e,"F",(function(){return r})),n.d(e,"G",(function(){return Dt})),n.d(e,"H",(function(){return C})),n.d(e,"I",(function(){return b})),n.d(e,"J",(function(){return J})),n.d(e,"K",(function(){return w})),n.d(e,"L",(function(){return Lt})),n.d(e,"M",(function(){return c})),n.d(e,"N",(function(){return y})),n.d(e,"O",(function(){return st})),n.d(e,"P",(function(){return rt})),n.d(e,"Q",(function(){return Nt})),n.d(e,"R",(function(){return N})),n.d(e,"S",(function(){return v})),n.d(e,"T",(function(){return l})),n.d(e,"U",(function(){return a})),n.d(e,"V",(function(){return D})),n.d(e,"W",(function(){return B})),n.d(e,"X",(function(){return G})),n.d(e,"Y",(function(){return L})),n.d(e,"Z",(function(){return X})),n.d(e,"ab",(function(){return P})),n.d(e,"bb",(function(){return I})),n.d(e,"cb",(function(){return f})),n.d(e,"db",(function(){return E})),n.d(e,"eb",(function(){return A})),n.d(e,"fb",(function(){return Ot})),n.d(e,"gb",(function(){return F})),n.d(e,"hb",(function(){return V})),n.d(e,"ib",(function(){return _t})),n.d(e,"jb",(function(){return Mt})),n.d(e,"kb",(function(){return Rt})),n.d(e,"lb",(function(){return h})),n.d(e,"mb",(function(){return z}));const r=t=>t;function s(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function i(){return Object.create(null)}function l(t){t.forEach(o)}function b(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t){return 0===Object.keys(t).length}function f(t,...e){if(null==t)return c;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function d(t){let e;return f(t,t=>e=t)(),e}function j(t,e,n){t.$$.on_destroy.push(f(e,n))}function O(t,e,n,c){if(t){const r=p(t,e,n,c);return t[0](r)}}function p(t,e,n,c){return t[1]&&c?s(n.ctx.slice(),t[1](c(e))):n.ctx}function h(t,e,n,c,r,s,o){const i=function(t,e,n,c){if(t[2]&&c){const r=t[2](c(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let c=0;c<n;c+=1)t[c]=e.dirty[c]|r[c];return t}return e.dirty|r}return e.dirty}(e,c,r,s);if(i){const r=p(e,n,c,o);t.p(r,i)}}function m(t){const e={};for(const n in t)e[n]=!0;return e}function g(t){return t&&b(t.destroy)?t.destroy:c}const x="undefined"!=typeof window;let y=x?()=>window.performance.now():()=>Date.now(),v=x?t=>requestAnimationFrame(t):c;const k=new Set;function $(t){k.forEach(e=>{e.c(t)||(k.delete(e),e.f())}),0!==k.size&&v($)}function w(t){let e;return 0===k.size&&v($),{promise:new Promise(n=>{k.add(e={c:t,f:n})}),abort(){k.delete(e)}}}function S(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function P(){return A(" ")}function T(){return A("")}function J(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function I(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function R(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function F(t){return""===t?null:+t}function G(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function X(t,e,n,c){t.style.setProperty(e,n,c?"important":"")}function D(t,e){for(let n=0;n<t.options.length;n+=1){const c=t.options[n];if(c.__value===e)return void(c.selected=!0)}}function B(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function V(t,e,n){t.classList[n?"add":"remove"](e)}function W(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const q=new Set;let Y,U=0;function K(t,e,n,c,r,s,o,i=0){const l=16.666/c;let b="{\n";for(let t=0;t<=1;t+=l){const c=e+(n-e)*s(t);b+=100*t+`%{${o(c,1-c)}}\n`}const a=b+`100% {${o(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${i}`,f=t.ownerDocument;q.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(M("style")).sheet),j=f.__svelte_rules||(f.__svelte_rules={});j[u]||(j[u]=!0,d.insertRule(`@keyframes ${u} ${a}`,d.cssRules.length));const O=t.style.animation||"";return t.style.animation=`${O?`${O}, `:""}${u} ${c}ms linear ${r}ms 1 both`,U+=1,u}function Z(t,e){const n=(t.style.animation||"").split(", "),c=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-c.length;r&&(t.style.animation=c.join(", "),U-=r,U||v(()=>{U||(q.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),q.clear())}))}function Q(t,e,n,s){if(!e)return c;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return c;const{delay:i=0,duration:l=300,easing:b=r,start:a=y()+i,end:u=a+l,tick:f=c,css:d}=n(t,{from:e,to:o},s);let j,O=!0,p=!1;function h(){d&&Z(t,j),O=!1}return w(t=>{if(!p&&t>=a&&(p=!0),p&&t>=u&&(f(1,0),h()),!O)return!1;if(p){const e=0+1*b((t-a)/l);f(e,1-e)}return!0}),d&&(j=K(t,0,1,l,i,b,d)),i||(p=!0),f(0,1),h}function tt(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:c}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=c,et(t,r)}}function et(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const c=getComputedStyle(t),r="none"===c.transform?"":c.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function nt(t){Y=t}function ct(){if(!Y)throw new Error("Function called outside component initialization");return Y}function rt(t){ct().$$.on_mount.push(t)}function st(t){ct().$$.on_destroy.push(t)}function ot(){const t=ct();return(e,n)=>{const c=t.$$.callbacks[e];if(c){const r=W(e,n);c.slice().forEach(e=>{e.call(t,r)})}}}function it(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const lt=[],bt=[],at=[],ut=[],ft=Promise.resolve();let dt=!1;function jt(){dt||(dt=!0,ft.then(xt))}function Ot(){return jt(),ft}function pt(t){at.push(t)}function ht(t){ut.push(t)}let mt=!1;const gt=new Set;function xt(){if(!mt){mt=!0;do{for(let t=0;t<lt.length;t+=1){const e=lt[t];nt(e),yt(e.$$)}for(nt(null),lt.length=0;bt.length;)bt.pop()();for(let t=0;t<at.length;t+=1){const e=at[t];gt.has(e)||(gt.add(e),e())}at.length=0}while(lt.length);for(;ut.length;)ut.pop()();dt=!1,mt=!1,gt.clear()}}function yt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pt)}}let vt;function kt(){return vt||(vt=Promise.resolve(),vt.then(()=>{vt=null})),vt}function $t(t,e,n){t.dispatchEvent(W(`${e?"intro":"outro"}${n}`))}const wt=new Set;let St;function Ct(){St={r:0,c:[],p:St}}function Ht(){St.r||l(St.c),St=St.p}function _t(t,e){t&&t.i&&(wt.delete(t),t.i(e))}function Mt(t,e,n,c){if(t&&t.o){if(wt.has(t))return;wt.add(t),St.c.push(()=>{wt.delete(t),c&&(n&&t.d(1),c())}),t.o(e)}}const Et={duration:0};function At(t,e,n){let s,o,i=e(t,n),l=!1,a=0;function u(){s&&Z(t,s)}function f(){const{delay:e=0,duration:n=300,easing:b=r,tick:f=c,css:d}=i||Et;d&&(s=K(t,0,1,n,e,b,d,a++)),f(0,1);const j=y()+e,O=j+n;o&&o.abort(),l=!0,pt(()=>$t(t,!0,"start")),o=w(e=>{if(l){if(e>=O)return f(1,0),$t(t,!0,"end"),u(),l=!1;if(e>=j){const t=b((e-j)/n);f(t,1-t)}}return l})}let d=!1;return{start(){d||(Z(t),b(i)?(i=i(),kt().then(f)):f())},invalidate(){d=!1},end(){l&&(u(),l=!1)}}}function Pt(t,e,n){let s,o=e(t,n),i=!0;const a=St;function u(){const{delay:e=0,duration:n=300,easing:b=r,tick:u=c,css:f}=o||Et;f&&(s=K(t,1,0,n,e,b,f));const d=y()+e,j=d+n;pt(()=>$t(t,!1,"start")),w(e=>{if(i){if(e>=j)return u(0,1),$t(t,!1,"end"),--a.r||l(a.c),!1;if(e>=d){const t=b((e-d)/n);u(1-t,t)}}return i})}return a.r+=1,b(o)?kt().then(()=>{o=o(),u()}):u(),{end(e){e&&o.tick&&o.tick(1,0),i&&(s&&Z(t,s),i=!1)}}}function Tt(t,e,n,s){let o=e(t,n),i=s?0:1,a=null,u=null,f=null;function d(){f&&Z(t,f)}function j(t,e){const n=t.b-i;return e*=Math.abs(n),{a:i,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function O(e){const{delay:n=0,duration:s=300,easing:b=r,tick:O=c,css:p}=o||Et,h={start:y()+n,b:e};e||(h.group=St,St.r+=1),a||u?u=h:(p&&(d(),f=K(t,i,e,s,n,b,p)),e&&O(0,1),a=j(h,s),pt(()=>$t(t,e,"start")),w(e=>{if(u&&e>u.start&&(a=j(u,s),u=null,$t(t,a.b,"start"),p&&(d(),f=K(t,i,a.b,a.duration,0,b,o.css))),a)if(e>=a.end)O(i=a.b,1-i),$t(t,a.b,"end"),u||(a.b?d():--a.group.r||l(a.group.c)),a=null;else if(e>=a.start){const t=e-a.start;i=a.a+a.d*b(t/a.duration),O(i,1-i)}return!(!a&&!u)}))}return{run(t){b(o)?kt().then(()=>{o=o(),O(t)}):O(t)},end(){d(),a=u=null}}}const Jt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Nt(t,e){Mt(t,1,1,()=>{e.delete(t.key)})}function It(t,e){t.f(),Nt(t,e)}function Rt(t,e,n,c,r,s,o,i,l,b,a,u){let f=t.length,d=s.length,j=f;const O={};for(;j--;)O[t[j].key]=j;const p=[],h=new Map,m=new Map;for(j=d;j--;){const t=u(r,s,j),i=n(t);let l=o.get(i);l?c&&l.p(t,e):(l=b(i,t),l.c()),h.set(i,p[j]=l),i in O&&m.set(i,Math.abs(j-O[i]))}const g=new Set,x=new Set;function y(t){_t(t,1),t.m(i,a),o.set(t.key,t),a=t.first,d--}for(;f&&d;){const e=p[d-1],n=t[f-1],c=e.key,r=n.key;e===n?(a=e.first,f--,d--):h.has(r)?!o.has(c)||g.has(c)?y(e):x.has(r)?f--:m.get(c)>m.get(r)?(x.add(c),y(e)):(g.add(r),f--):(l(n,o),f--)}for(;f--;){const e=t[f];h.has(e.key)||l(e,o)}for(;d;)y(p[d-1]);return p}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let zt;function Ft(t,e,n){const c=t.$$.props[e];void 0!==c&&(t.$$.bound[c]=n,n(t.$$.ctx[c]))}function Gt(t){t&&t.c()}function Lt(t,e,n){const{fragment:c,on_mount:r,on_destroy:s,after_update:i}=t.$$;c&&c.m(e,n),pt(()=>{const e=r.map(o).filter(b);s?s.push(...e):l(e),t.$$.on_mount=[]}),i.forEach(pt)}function Xt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(t,e,n,r,s,o,b=[-1]){const a=Y;nt(t);const u=e.props||{},f=t.$$={fragment:null,ctx:null,props:o,update:c,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:i(),dirty:b,skip_bound:!1};let d=!1;if(f.ctx=n?n(t,u,(e,n,...c)=>{const r=c.length?c[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(lt.push(t),jt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],f.update(),d=!0,l(f.before_update),f.fragment=!!r&&r(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&_t(t.$$.fragment),Lt(t,e.target,e.anchor),xt()}nt(a)}"function"==typeof HTMLElement&&(zt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){Xt(this,1),this.$destroy=c}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Bt{$destroy(){Xt(this,1),this.$destroy=c}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!u(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}},function(t,e,n){"use strict";var c=n(0);n.d(e,"a",(function(){return c.o})),n.d(e,"b",(function(){return c.O})),n.d(e,"c",(function(){return c.P})),n.d(e,"d",(function(){return c.fb}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}));var c=n(0);n.d(e,"b",(function(){return c.C}));const r=[];function s(t,e){return{subscribe:o(t,e).subscribe}}function o(t,e=c.M){let n;const s=[];function o(e){if(Object(c.U)(t,e)&&(t=e,n)){const e=!r.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),r.push(n,t)}if(e){for(let t=0;t<r.length;t+=2)r[t][0](r[t+1]);r.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,i=c.M){const l=[r,i];return s.push(l),1===s.length&&(n=e(o)||c.M),r(t),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(n(),n=null)}}}}function i(t,e,n){const r=!Array.isArray(t),o=r?[t]:t,i=e.length<2;return s(n,t=>{let n=!1;const s=[];let l=0,b=c.M;const a=()=>{if(l)return;b();const n=e(r?s[0]:s,t);i?t(n):b=Object(c.I)(n)?n:c.M},u=o.map((t,e)=>Object(c.cb)(t,t=>{s[e]=t,l&=~(1<<e),n&&a()},()=>{l|=1<<e}));return n=!0,a(),function(){Object(c.T)(u),b()}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var c=n(0);function r(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function s(t){const e=t-1;return e*e*e+1}n.d(e,"c",(function(){return c.F}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var c=n(3);n(0);function r(t,{delay:e=0,duration:n=400,easing:r=c.c}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>`opacity: ${t*s}`}}function s(t,{delay:e=0,duration:n=400,easing:r=c.b,x:s=0,y:o=0,opacity:i=0}){const l=getComputedStyle(t),b=+l.opacity,a="none"===l.transform?"":l.transform,u=b*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*s}px, ${(1-t)*o}px);\n\t\t\topacity: ${b-u*e}`}}},,,,,,,,,,,,,function(t,e){const n=t=>Object.assign({},t);t.exports=class{constructor(t,e){this.format=t,this.fileName=e,this.subs=[],this.generatedIdBase=0}genId(){return`generated-id-${this.generatedIdBase++}`}getSubs(t){return this.subs.filter(e=>e.start<=t&&e.end>=t)}timeToMs(t){const[e,n,c]=t.split(":");return 36e5*+e+6e4*+n+1e3*parseFloat(c)}prettyTimeDifference(t,e){return`+${parseFloat(((e-t)/1e3).toFixed(1))} seconds`}getAlignmentCandidates(t){let e=this.subs;return e.sort((t,e)=>t.start-e.end),t?e.reduce((c,r,s)=>{if(r.text.includes(t)){const t=s+1,o=e.slice(t,t+3).map(n).map(t=>(t.offset=this.prettyTimeDifference(r.start,t.start),t));c.push({type:"search-match",sub:r,subsequent:o})}return c},[]).slice(0,5):e.slice(0,20).map(n).map(t=>(t.offset=this.prettyTimeDifference(e[0].start,t.start),t))}}},function(t,e,n){const c=n(19),r=t=>(t.charAt(0).toLowerCase()+t.substring(1)).replace(" ",""),s=t=>{if(t){t=(t=t.replace(/[&H]/g,"")).padStart(8,"0");const[e,n,c,r,s]=t.match(/([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i),o=t=>parseInt(t,16);return{rgba:`rgba(${o(s)}, ${o(r)}, ${o(c)}, ${((255-o(n))/255).toFixed(3)})`,weakenAlpha:t=>`rgba(${o(s)}, ${o(r)}, ${o(c)}, ${(t*((255-o(n))/255)).toFixed(3)})`}}},o=(t,e,n="transparent",c=0,r=0)=>{const s=(t||n).weakenAlpha(1/(4*e));r=`${r}px`;const o=[];for(let t=-1*(e=void 0===e?1:e);t<=e;t++)for(let n=-1*e;n<=e;n++)o.push(`${t}px ${n}px ${r} ${s}`);return`text-shadow: ${o.join(", ")}, ${c}px ${c}px ${r} ${n.rgba}`},i=t=>`font-family: "${t}", "Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans", "Noto Sans CJK JP", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif`,l=(t,e="0vw",n="0vw",c="0vh")=>{const r={1:`top: calc(100vh - ${c}); left: ${e}; transform: translate(0, -100%)`,2:`top: calc(100vh - ${c}); left: 50vw; transform: translate(-50%, -100%)`,3:`top: calc(100vh - ${c}); left: calc(100vw - ${n}); transform: translate(-100%, -100%)`,4:`top: 50vh; left: ${e}; transform: translate(0, -50%)`,5:"top: 50vh; left: 50vw; transform: translate(-50%, -50%)",6:`top: 50vh; left: calc(100vw - ${n}); transform: translate(-100%, -50%)`,7:`top: ${c}; left: ${e}; transform: translate(0, 0)`,8:`top: ${c}; left: 50vw; transform: translate(-50%, 0)`,9:`top: ${c}; left: calc(100vw - ${n}); transform: translate(-100%, 0)`},s=t=>`position:fixed;${r[t]}`;return{normal:s(t),inverted:s({1:7,2:8,3:9,4:4,5:5,6:6,7:1,8:2,9:3}[t])}};const b=t=>parseInt(t,10),a=[{tag:"t",friendly:"animatedTransform",complex:!0},{tag:"move",friendly:"movement",complex:!0},{tag:"clip",friendly:"clip",complex:!0},{tag:"3c",friendly:"outlineColor",parser:s},{tag:"4c",friendly:"shadowColor",parser:s},{tag:"bord",friendly:"outlineSize"},{tag:"shad",friendly:"shadowDepth"},{tag:"blur",friendly:"blur"},{tag:"be",friendly:"blur"},{tag:"pos",friendly:"position",complex:!0,parser:b},{tag:"an",friendly:"alignment"},{tag:"org",friendly:"origin",complex:!0},{tag:"fscx",friendly:"fontScaleX"},{tag:"fscy",friendly:"fontScaleY"},{tag:"frx",friendly:"rotateX"},{tag:"fry",friendly:"rotateY"},{tag:"frz",friendly:"rotateZ"},{tag:"fad",friendly:"fade",complex:!0,parser:b},{tag:"fsp",friendly:"letterSpacing"},{tag:"fs",friendly:"fontSize"},{tag:"u",friendly:"underline"},{tag:"s",friendly:"strikethrough"},{tag:"b",friendly:"bold",parser:b},{tag:"i",friendly:"italic",parser:b},{tag:"fn",friendly:"fontName"},{tag:"1c",friendly:"color",parser:s},{tag:"r",friendly:"reset",defaultValue:!1},{tag:"q",friendly:"wrapStyle"},{tag:"p",friendly:"drawMode"},{tag:"a",friendly:"alignmentLegacy"}];function u(t,e){return e?Array.isArray(t)?t.map(e):e(t):t}function f(t){const e=t,n=t.replace(/{.*?}/g,""),c={},r={};let[s]=t.match(/{.*?}/);for(const{tag:t,friendly:e,complex:n=!1,defaultValue:o,parser:i}of a){const l=d(s,t,n);l&&(s=l.overrides,c[e]=u(l.params,i)||o,r[t]=l.params||o)}return{text:n,rawText:e,overrides:c,rawOverrides:r}}function d(t,e,n=!1){const c=new RegExp(n?`\\\\${e}\\((.*?)\\)`:`\\\\${e}([^\\\\}]*)`),r=t.match(c);if(r)return{overrides:t.replace(r[0],""),params:n?r[1].split(","):r[1]}}t.exports=class extends c{constructor(t,e){super("ass",e),t=t.replace(/\r\n/g,"\n");try{this.blocks=this.parseBlocks(t),this.subs=this.parseBlock(this.blocks.subs),this.parseInfo(this.blocks.info),this.parseSubTimings(),this.parseStyles(this.parseBlock(this.blocks.styles)),this.parseSubOverrideTags()}catch(t){console.error("ASS PARSE ERROR",t),this.subs=[]}}serialize(t){return JSON.stringify({info:this.info,styles:this.styles,subs:"number"==typeof t?this.getSubs(t):this.subs},null,4)}debugInfo(){return[{title:"Number of styles",detail:Object.keys(this.styles).length},{title:"Number of subtitles",detail:this.subs.length}]}parseInfo(){this.info={},this.blocks.info.split("\n").forEach(t=>{const[e,n]=t.split(": ");this.info[r(e)]=n})}scaleHeight(t){return`${t/+this.info.playResY*100}vh`}scaleWidth(t){return`${t/+this.info.playResX*100}vw`}parseBlocks(t){const e=t.split(/\n(?=\[)/),n=t=>e.find(e=>{e=e.trim();const[n,c]=e.match(/^\[(.*?)]/);return c===t}).replace(/.*\n/,"").trim();return{info:n("Script Info"),styles:n("V4+ Styles"),subs:n("Events")}}parseBlock(t){const[e,...n]=t.split("\n"),c=(t,e=1/0)=>{let[n,c,r]=t.match(/(\w*): (.*)/);return r=r.split(","),r.length>e&&(r[e-1]=r.slice(e-1).join(","),r.splice(e,1/0)),{type:c,attributes:r}},s=c(e);return n.reduce((t,e)=>{if(!e||";"===e.charAt(0)||0===e.indexOf("Comment: "))return t;const n=c(e,s.attributes.length),o={dataType:n.type.toLowerCase()};return s.attributes.forEach((t,e)=>{t=t.trim();const c=r(t);o[c]=n.attributes[e]}),o.style="*Default"===o.style?"Default":o.style,o._id=this.genId(),t.push(o),t},[])}parseSubTimings(){this.subs.forEach(t=>{t.rawStart=t.start,t.rawEnd=t.end,t.start=this.timeToMs(t.start),t.end=this.timeToMs(t.end)})}parseStyles(t){const e={};t.forEach(t=>{for(const e of Object.keys(t).filter(t=>/colour/i.test(t)))t[e]=s(t[e]);t.name="*Default"===t.name?"Default":t.name;const n=[],{primaryColour:c,secondaryColour:r,outlineColour:b,backColour:a,borderStyle:u,outline:f,shadow:d,fontname:j,fontsize:O,bold:p,italic:h,underline:m,strikeOut:g,alignment:x,marginL:y,marginR:v,marginV:k}=t;c&&n.push(`color: ${c.rgba}`),j&&n.push(i(j)),"1"===u?n.push(o(b,f,a,d)):"3"===u&&n.push(`background-color: ${a.rgba}`),"-1"===p&&n.push("font-weight: bold"),"-1"===h&&n.push("font-style: italic"),"-1"!==m&&"-1"!==g||n.push(`text-decoration: ${"-1"===m?"underline":""} ${"-1"===g?"line-through":""}`),n.push(this.genScaledFont(O)),e[t.name]={inline:n.join(";"),verticalAlignment:l(x,this.scaleWidth(y),this.scaleWidth(v),this.scaleHeight(k)),raw:t}}),this.styles=e}genScaledFont(t){return`font-size: ${this.scaleHeight(.7*t)}`}parseSubOverrideTags(){this.subs.forEach(t=>{if(t.rawText=t.text,t.text=t.text.replace(/\\n/g," ").replace(/\\N/g,"\n").trim().replace(/\\h/g," "),!/{.+?}/.test(t.text))return;t.phrases=[];const e=function*(t){const e=/({.*?}[^{]*)/g;let n;const c=t.indexOf("{");for(c>0&&(yield{text:t.substring(0,c),overrides:{}});null!==(n=e.exec(t));)yield f(n[1])}(t.text);let n=[];for(const c of e){const e=[],r={_id:this.genId(),text:c.text,fadeIn:0,fadeOut:0,inline:"",overrides:c.overrides,rawOverrides:c.rawOverrides,rawText:c.rawText},{overrides:s}=c;if(s.outlineColor||s.shadowColor||s.outlineSize||s.shadowDepth||s.blur){const e=this.styles[t.style];if(e){const t=s.outlineColor||e.raw.outlineColour,c=s.shadowColor||e.raw.backColour,r=s.outlineSize||e.raw.outline,i=s.shadowDepth||e.raw.shadow;n.push(o(t,r,c,i,s.blur))}}let b=[];if(s.position){const[t,c]=s.position;e.push(`position: fixed; left: ${this.scaleWidth(t)}; top: ${this.scaleHeight(c)}`);const r={1:"0, -100%",2:"-50%, -100%",3:"-100%, -100%",4:"0, -50%",5:"-50%, -50%",6:"-100%, -50%",7:"0, 0",8:"-50%, 0",9:"-100%, 0"}[s.alignment];if(e.push(`transform: translate(${r})`),s.origin){const[t,e]=s.origin;n.push(`transform-origin: ${this.scaleWidth(t)} ${this.scaleHeight(e)}`)}}else if(s.alignment){const e=this.styles[t.style];t.verticalAlignment=l(s.alignment,this.scaleWidth(e.raw.marginL),this.scaleWidth(e.raw.marginR),this.scaleHeight(e.raw.marginV))}const{fontScaleX:a,fontScaleY:u}=s;(a||u)&&n.push("position: absolute"),a&&b.push(`scaleX(${a}%)`),u&&b.push(`scaleY(${u}%)`),b.length&&n.push(`transform: ${b.join(" ")}`);const f=[],d=(t,e,n=1)=>{if(void 0!==t)return t=parseFloat(t)*n,f.push(`rotate3d(${e.join(", ")}, ${t}deg)`)};d(s.rotateX,[1,0,0]),d(s.rotateZ,[0,0,1],-1),d(s.rotateY,[0,1,0]),f.length&&(e.push("perspective: 200px"),n.push(`display: block; transform: ${f.join(" ")}`)),s.fade&&(r.fadeIn=s.fade[0],r.fadeOut=s.fade[1],t.end-=r.fadeOut),s.letterSpacing&&n.push(`letter-spacing: ${s.letterSpacing}px`),s.fontSize&&n.push(this.genScaledFont(s.fontSize));const j=[];s.underline&&j.push("underline"),s.strikethrough&&j.push("line-through"),j.length&&n.push(`text-decoration: ${j.length?j.join(" "):"none"}`);const{bold:O,italic:p}=s;if(void 0!==O){const t={[O]:O,1:"bold",0:"normal"};n.push(`font-weight: ${t[O]}`)}if("number"==typeof p&&n.push(`font-style: ${p?"italic":"normal"}`),s.fontName&&n.push(i(s.fontName)),s.color&&n.push(`color: ${s.color.rgba}`),s.reset){n=[this.styles[s.reset].inline]}else!1===s.reset&&(n=[]);r.inline=n.join(";"),t.phrases.push(r),e.length&&(t.inline=e.join(";"))}t.text=t.text.replace(/{.*?}/g,"")})}}},,function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),s=n(2);const o={subtitleFallbackColor:"#FFFFFF",showSubtitlesOnVideo:!0,pauseWhenTrayOpen:!0,invertVerticalAlignment:!0},i=Object.assign({},o,GM_getValue("settings-store",{})),l={};Object.keys(o).forEach(t=>{(l[t]=Object(s.d)(i[t])).subscribe(e=>{i[t]=e,GM_setValue("settings-store",i)})});const b=l.subtitleFallbackColor,a=l.showSubtitlesOnVideo,u=l.pauseWhenTrayOpen,f=l.invertVerticalAlignment;var d=n(6),j=n(3);function O(t,e,n){const r=getComputedStyle(t),s="none"===r.transform?"":r.transform,o=e.from.width/t.clientWidth,i=e.from.height/t.clientHeight,l=(e.from.left-e.to.left)/o,b=(e.from.top-e.to.top)/i,a=Math.sqrt(l*l+b*b),{delay:u=0,duration:f=(t=>120*Math.sqrt(t)),easing:d=j.b}=n;return{delay:u,duration:Object(c.I)(f)?f(a):f,easing:d,css:(t,e)=>`transform: ${s} translate(${e*l}px, ${e*b}px);`}}function p(t){return"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>h(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(p(t)&&p(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),c={};return n.forEach(n=>{c[n]=h(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=c[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}const m=()=>`last-used-alignment-${x}`,g=()=>`alignment-history-${x}`;let x="";const y=Object(s.d)(null),v=Object(s.d)(!1),k=Object(s.d)([]),$=Object(s.a)(k,t=>t.slice(1)),w=Object(s.d)("");w.subscribe(t=>{x=t;const e=GM_getValue(m());k.set(GM_getValue(g(),[])),y.set(e),v.set("number"==typeof e)}),y.subscribe(t=>{GM_setValue(m(),t),v.set("number"==typeof t)});const S=t=>{null!==t&&k.update((e=[])=>[C(t),...e.filter(e=>e.alignment!==t)].slice(0,5))};function C(t){return{alignment:t,signed:H(t)}}function H(t){const e=parseFloat((t/1e3).toFixed(2));return e>0?`+${e}`:e}k.subscribe(t=>{GM_setValue(g(),t)});const _=Object(s.a)(y,t=>parseFloat((t/1e3).toFixed(2))),M=Object(s.a)(y,t=>H(t)),E=Object(s.a)(_,t=>0===t?"no adjustment":t>0?`delayed by ${t} seconds`:`hastened by ${Math.abs(t)} seconds`);function A(t){let e,n,r,s,o,i,l,b,a,u,f,d,j,O,p,h,m,g,x,y,v,k,$,w,S,C;return{c(){e=Object(c.y)("div"),n=Object(c.y)("h1"),n.textContent="Fine Alignment",r=Object(c.ab)(),s=Object(c.y)("p"),o=Object(c.eb)("Play the video and use these adjustment buttons until the subtitles show at the right time.\n\t\t"),i=Object(c.y)("br"),l=Object(c.ab)(),b=Object(c.y)("strong"),a=Object(c.eb)("Subtitles are "),u=Object(c.eb)(t[0]),f=Object(c.ab)(),d=Object(c.y)("p"),d.textContent="Do the subtitles show...",j=Object(c.ab)(),O=Object(c.y)("button"),O.textContent="Way too late?",p=Object(c.ab)(),h=Object(c.y)("button"),h.textContent="Too late?",m=Object(c.ab)(),g=Object(c.y)("button"),g.textContent="Too early?",x=Object(c.ab)(),y=Object(c.y)("button"),y.textContent="Way too early?",v=Object(c.ab)(),k=Object(c.y)("br"),$=Object(c.ab)(),w=Object(c.y)("button"),w.textContent="Done",Object(c.h)(n,"class","svelte-t5ayh1"),Object(c.h)(O,"class","secondary"),Object(c.h)(h,"class","secondary"),Object(c.h)(g,"class","secondary"),Object(c.h)(y,"class","secondary"),Object(c.h)(e,"class","fine-align svelte-t5ayh1")},m(H,_){Object(c.H)(H,e,_),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(s,o),Object(c.f)(s,i),Object(c.f)(s,l),Object(c.f)(s,b),Object(c.f)(b,a),Object(c.f)(b,u),Object(c.f)(e,f),Object(c.f)(e,d),Object(c.f)(e,j),Object(c.f)(e,O),Object(c.f)(e,p),Object(c.f)(e,h),Object(c.f)(e,m),Object(c.f)(e,g),Object(c.f)(e,x),Object(c.f)(e,y),Object(c.f)(e,v),Object(c.f)(e,k),Object(c.f)(e,$),Object(c.f)(e,w),S||(C=[Object(c.J)(O,"click",t[1](-1*t[2])),Object(c.J)(h,"click",t[1](-1*t[3])),Object(c.J)(g,"click",t[1](t[3])),Object(c.J)(y,"click",t[1](t[2])),Object(c.J)(w,"click",t[4])],S=!0)},p(t,[e]){1&e&&Object(c.X)(u,t[0])},i:c.M,o:c.M,d(t){t&&Object(c.x)(e),S=!1,Object(c.T)(C)}}}function P(t,e,n){let o;Object(c.m)(t,E,t=>n(0,o=t));const i=Object(r.a)();return[o,t=>()=>{y.update(e=>e+t)},1e3,200,function(){S(Object(s.b)(y)),i("close")}]}class T extends c.a{constructor(t){var e;super(),document.getElementById("svelte-t5ayh1-style")||((e=Object(c.y)("style")).id="svelte-t5ayh1-style",e.textContent=".fine-align.svelte-t5ayh1{background:rgba(27, 26, 38, 0.9);padding:1rem;color:white;position:fixed;top:50vh;left:50vw;transform:translate(-50%, -50%);max-width:20rem}h1.svelte-t5ayh1{border-bottom:2px solid #f47521}",Object(c.f)(document.head,e)),Object(c.G)(this,t,P,A,c.U,{})}}var J=T;let N;const I=Object(s.d)(0),R=t=>Object(s.c)([],e=>{let n,c,r="number"==typeof t?t:0;"number"!=typeof t&&(c=t.subscribe(t=>{r=t}));const s=document.querySelector("video"),o=()=>{const t=1e3*s.currentTime-r;I.set(t),e(N.getSubs(t)),n=requestAnimationFrame(o)};return o(),()=>{cancelAnimationFrame(n),c&&c()}});function z(t,e,n){const c=t.slice();return c[6]=e[n],c}function F(t){let e,n=t[1],r=[];for(let e=0;e<n.length;e+=1)r[e]=L(z(t,n,e));return{c(){e=Object(c.y)("div");for(let t=0;t<r.length;t+=1)r[t].c();Object(c.h)(e,"class","svelte-xof7a2"),Object(c.hb)(e,"with-previews",t[0])},m(t,n){Object(c.H)(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,s){if(11&s){let c;for(n=t[1],c=0;c<n.length;c+=1){const o=z(t,n,c);r[c]?r[c].p(o,s):(r[c]=L(o),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}1&s&&Object(c.hb)(e,"with-previews",t[0])},d(t){t&&Object(c.x)(e),Object(c.w)(r,t)}}}function G(t){let e;return{c(){e=Object(c.y)("pre"),Object(c.h)(e,"class","subtitle-preview svelte-xof7a2")},m(t,n){Object(c.H)(t,e,n)},d(t){t&&Object(c.x)(e)}}}function L(t){let e,n,r,s,o,i,l,b=t[6].signed+"",a=t[0]&&G();function u(...e){return t[4](t[6],...e)}return{c(){e=Object(c.y)("button"),n=Object(c.eb)(b),r=Object(c.eb)("秒\n\t\t\t\t"),a&&a.c(),s=Object(c.ab)(),Object(c.h)(e,"class","secondary svelte-xof7a2")},m(b,f){Object(c.H)(b,e,f),Object(c.f)(e,n),Object(c.f)(e,r),a&&a.m(e,null),Object(c.f)(e,s),i||(l=[Object(c.J)(e,"click",u),Object(c.b)(o=t[2].call(null,e,t[6].alignment))],i=!0)},p(r,i){t=r,2&i&&b!==(b=t[6].signed+"")&&Object(c.X)(n,b),t[0]?a||(a=G(),a.c(),a.m(e,s)):a&&(a.d(1),a=null),o&&Object(c.I)(o.update)&&2&i&&o.update.call(null,t[6].alignment)},d(t){t&&Object(c.x)(e),a&&a.d(),i=!1,Object(c.T)(l)}}}function X(t){let e,n=t[1].length&&F(t);return{c(){n&&n.c(),e=Object(c.z)()},m(t,r){n&&n.m(t,r),Object(c.H)(t,e,r)},p(t,[c]){t[1].length?n?n.p(t,c):(n=F(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:c.M,o:c.M,d(t){n&&n.d(t),t&&Object(c.x)(e)}}}function D(t,e,n){let o;Object(c.m)(t,$,t=>n(1,o=t));let{showPreviews:i=!1}=e;const l=Object(r.a)();function b(t){y.set(t),S(t),l("aligned")}return t.$$set=t=>{"showPreviews"in t&&n(0,i=t.showPreviews)},[i,o,function(t,e){if(!i)return;const n=Object(s.d)(e),c=t.querySelector(".subtitle-preview");return{update:t=>n.set(t),destroy:R(n).subscribe(t=>{const e=t.map(t=>t.text).join("\n").trim()||"\n\n";c.textContent=e.includes("\n")?e:"\n"+e})}},b,t=>b(t.alignment)]}class B extends c.a{constructor(t){var e;super(),document.getElementById("svelte-xof7a2-style")||((e=Object(c.y)("style")).id="svelte-xof7a2-style",e.textContent="button.svelte-xof7a2{margin:0.5rem;align-self:center;max-width:20rem;overflow:hidden}pre.svelte-xof7a2{margin:0;padding:0;font-size:0.7rem}.with-previews.svelte-xof7a2{display:grid;grid-gap:0.5rem;grid-template-columns:1fr 1fr}",Object(c.f)(document.head,e)),Object(c.G)(this,t,D,X,c.U,{showPreviews:0})}}var V=B;const{document:W}=c.D;function q(t,e,n){const c=t.slice();return c[39]=e[n],c}function Y(t,e,n){const c=t.slice();return c[42]=e[n],c[44]=n,c}function U(t){let e,n,r,s,o,i,l,b,a,u,f,d,j,O,p,h,m,g,x,y,v,k,$,w,S,C,H,_,M,E,A,P,T,J,N,I,R,z,F,G,L,X,D,B,W,U,K,et,nt,ct,rt,st,ot,it,lt,bt,at,ut,ft,dt,jt,Ot,pt,ht,mt,gt,xt,yt,vt,kt,$t,wt,St,Ct,Ht,_t,Mt,Et,At,Pt,Tt,Jt,Nt,It,Rt,zt,Ft,Gt,Lt,Xt=[],Dt=new Map,Bt=t[1].fileName+"",Vt=t[0];const Wt=t=>t[42].text;for(let e=0;e<Vt.length;e+=1){let n=Y(t,Vt,e),c=Wt(n);Dt.set(c,Xt[e]=Z(c,n))}let qt=t[8]&&Q(t);X=new V({props:{showPreviews:!0}});let Yt=t[1].debugInfo(),Ut=[];for(let e=0;e<Yt.length;e+=1)Ut[e]=tt(q(t,Yt,e));return{c(){e=Object(c.y)("div"),n=Object(c.y)("button"),r=Object(c.eb)("Recent Subtitles"),o=Object(c.ab)(),i=Object(c.y)("button"),l=Object(c.eb)("Setup"),a=Object(c.ab)(),u=Object(c.y)("button"),f=Object(c.eb)("Settings"),j=Object(c.ab)(),O=Object(c.y)("div"),p=Object(c.y)("h2"),p.textContent="Recent Subtitles",h=Object(c.ab)(),m=Object(c.y)("ul");for(let t=0;t<Xt.length;t+=1)Xt[t].c();g=Object(c.ab)(),x=Object(c.y)("div"),y=Object(c.y)("h2"),y.textContent="Start Over",v=Object(c.ab)(),k=Object(c.y)("div"),$=Object(c.y)("button"),$.textContent="Reselect subtitles",w=Object(c.ab)(),S=Object(c.y)("h2"),S.textContent="Alignment",C=Object(c.ab)(),H=Object(c.y)("div"),_=Object(c.y)("p"),M=Object(c.eb)(t[6]),E=Object(c.eb)(" ("),A=Object(c.eb)(t[7]),P=Object(c.eb)(")"),T=Object(c.ab)(),J=Object(c.y)("div"),N=Object(c.y)("button"),N.textContent="Realign subtitles",I=Object(c.ab)(),R=Object(c.y)("button"),R.textContent="Fine adjustment",z=Object(c.ab)(),F=Object(c.y)("h3"),F.textContent="Switch to a previous alignment",G=Object(c.ab)(),qt&&qt.c(),L=Object(c.ab)(),Object(c.r)(X.$$.fragment),D=Object(c.ab)(),B=Object(c.y)("div"),W=Object(c.y)("h2"),W.textContent="Settings",U=Object(c.ab)(),K=Object(c.y)("div"),et=Object(c.y)("label"),et.textContent="Subtitle fallback color:",nt=Object(c.ab)(),ct=Object(c.y)("input"),rt=Object(c.ab)(),st=Object(c.y)("div"),ot=Object(c.y)("input"),it=Object(c.ab)(),lt=Object(c.y)("label"),lt.innerHTML='Show subs over video (<kbd title="Hotkey: h" class="svelte-dr1m8c">H</kbd>)',bt=Object(c.ab)(),at=Object(c.y)("div"),ut=Object(c.y)("input"),ft=Object(c.ab)(),dt=Object(c.y)("label"),dt.textContent="Pause when tray is open",jt=Object(c.ab)(),Ot=Object(c.y)("div"),pt=Object(c.y)("input"),ht=Object(c.ab)(),mt=Object(c.y)("label"),mt.innerHTML='Invert subtitle vertical alignment (<kbd title="Hotkey: i" class="svelte-dr1m8c">I</kbd>) <span class="muted svelte-dr1m8c">(i.e. if subtitles should be near the bottom this will make them show near the top).\n\t\t\t\t\tYou&#39;ll likely want this enabled if you intend to watch with VRV&#39;s subtitles at the same time.</span>',gt=Object(c.ab)(),xt=Object(c.y)("h2"),xt.textContent="Debug Information",yt=Object(c.ab)(),vt=Object(c.y)("dl"),kt=Object(c.y)("dt"),kt.textContent="Subtitles File",$t=Object(c.y)("dd"),wt=Object(c.eb)(Bt),St=Object(c.y)("dt"),St.textContent="Alignment",Ct=Object(c.y)("dd"),Ht=Object(c.eb)(t[6]),_t=Object(c.eb)(" ("),Mt=Object(c.eb)(t[7]),Et=Object(c.eb)(")");for(let t=0;t<Ut.length;t+=1)Ut[t].c();At=Object(c.ab)(),Pt=Object(c.y)("div"),Tt=Object(c.y)("button"),Tt.textContent="⬇ Download parsed subtitles",Jt=Object(c.ab)(),Nt=Object(c.y)("div"),It=Object(c.y)("button"),It.textContent="⬇ Download currently visible parsed subtitles",Rt=Object(c.ab)(),zt=Object(c.y)("div"),zt.innerHTML='<a target="_blank" href="https://github.com/sheodox/jimaku-player/issues" rel="noopener noreferrer" class="svelte-dr1m8c">Issue? Report it here!</a>',n.disabled=s="recent"===t[3],i.disabled=b="setup"===t[3],u.disabled=d="settings"===t[3],Object(c.h)(e,"class","tray-tab-buttons svelte-dr1m8c"),Object(c.h)(p,"class","svelte-dr1m8c"),Object(c.h)(m,"class","recent-subs svelte-dr1m8c"),Object(c.h)(O,"class","tab tab-recent svelte-dr1m8c"),Object(c.hb)(O,"tab-active","recent"===t[3]),Object(c.h)(y,"class","svelte-dr1m8c"),Object(c.h)($,"class","secondary"),Object(c.h)(k,"class","row svelte-dr1m8c"),Object(c.h)(S,"class","svelte-dr1m8c"),Object(c.h)(H,"class","row svelte-dr1m8c"),Object(c.h)(N,"class","secondary"),Object(c.h)(R,"class","secondary"),Object(c.h)(J,"class","row svelte-dr1m8c"),Object(c.h)(F,"class","svelte-dr1m8c"),Object(c.h)(x,"class","tab svelte-dr1m8c"),Object(c.hb)(x,"tab-active","setup"===t[3]),Object(c.h)(W,"class","svelte-dr1m8c"),Object(c.h)(et,"for","subtitle-color"),Object(c.h)(ct,"type","color"),Object(c.h)(ct,"id","subtitle-color"),Object(c.h)(K,"class","row svelte-dr1m8c"),Object(c.h)(ot,"id","show-subs"),Object(c.h)(ot,"type","checkbox"),Object(c.h)(lt,"for","show-subs"),Object(c.h)(st,"class","row svelte-dr1m8c"),Object(c.h)(ut,"id","pause-on-tray"),Object(c.h)(ut,"type","checkbox"),Object(c.h)(dt,"for","pause-on-tray"),Object(c.h)(at,"class","row svelte-dr1m8c"),Object(c.h)(pt,"id","invert-subtitle-alignment"),Object(c.h)(pt,"type","checkbox"),Object(c.h)(mt,"for","invert-subtitle-alignment"),Object(c.h)(Ot,"class","row svelte-dr1m8c"),Object(c.h)(xt,"class","svelte-dr1m8c"),Object(c.h)(kt,"class","svelte-dr1m8c"),Object(c.h)($t,"class","svelte-dr1m8c"),Object(c.h)(St,"class","svelte-dr1m8c"),Object(c.h)(Ct,"class","svelte-dr1m8c"),Object(c.h)(Pt,"class","row svelte-dr1m8c"),Object(c.h)(Nt,"class","row svelte-dr1m8c"),Object(c.h)(zt,"class","row svelte-dr1m8c"),Object(c.h)(B,"class","tab tab-settings svelte-dr1m8c"),Object(c.hb)(B,"tab-active","settings"===t[3])},m(s,b){Object(c.H)(s,e,b),Object(c.f)(e,n),Object(c.f)(n,r),Object(c.f)(e,o),Object(c.f)(e,i),Object(c.f)(i,l),Object(c.f)(e,a),Object(c.f)(e,u),Object(c.f)(u,f),Object(c.H)(s,j,b),Object(c.H)(s,O,b),Object(c.f)(O,p),Object(c.f)(O,h),Object(c.f)(O,m);for(let t=0;t<Xt.length;t+=1)Xt[t].m(m,null);Object(c.H)(s,g,b),Object(c.H)(s,x,b),Object(c.f)(x,y),Object(c.f)(x,v),Object(c.f)(x,k),Object(c.f)(k,$),Object(c.f)(x,w),Object(c.f)(x,S),Object(c.f)(x,C),Object(c.f)(x,H),Object(c.f)(H,_),Object(c.f)(_,M),Object(c.f)(_,E),Object(c.f)(_,A),Object(c.f)(_,P),Object(c.f)(x,T),Object(c.f)(x,J),Object(c.f)(J,N),Object(c.f)(J,I),Object(c.f)(J,R),Object(c.f)(x,z),Object(c.f)(x,F),Object(c.f)(x,G),qt&&qt.m(x,null),Object(c.f)(x,L),Object(c.L)(X,x,null),Object(c.H)(s,D,b),Object(c.H)(s,B,b),Object(c.f)(B,W),Object(c.f)(B,U),Object(c.f)(B,K),Object(c.f)(K,et),Object(c.f)(K,nt),Object(c.f)(K,ct),Object(c.Y)(ct,t[9]),Object(c.f)(B,rt),Object(c.f)(B,st),Object(c.f)(st,ot),ot.checked=t[10],Object(c.f)(st,it),Object(c.f)(st,lt),Object(c.f)(B,bt),Object(c.f)(B,at),Object(c.f)(at,ut),ut.checked=t[8],Object(c.f)(at,ft),Object(c.f)(at,dt),Object(c.f)(B,jt),Object(c.f)(B,Ot),Object(c.f)(Ot,pt),pt.checked=t[11],Object(c.f)(Ot,ht),Object(c.f)(Ot,mt),Object(c.f)(B,gt),Object(c.f)(B,xt),Object(c.f)(B,yt),Object(c.f)(B,vt),Object(c.f)(vt,kt),Object(c.f)(vt,$t),Object(c.f)($t,wt),Object(c.f)(vt,St),Object(c.f)(vt,Ct),Object(c.f)(Ct,Ht),Object(c.f)(Ct,_t),Object(c.f)(Ct,Mt),Object(c.f)(Ct,Et);for(let t=0;t<Ut.length;t+=1)Ut[t].m(vt,null);Object(c.f)(B,At),Object(c.f)(B,Pt),Object(c.f)(Pt,Tt),Object(c.f)(B,Jt),Object(c.f)(B,Nt),Object(c.f)(Nt,It),Object(c.f)(B,Rt),Object(c.f)(B,zt),Ft=!0,Gt||(Lt=[Object(c.J)(n,"click",t[19]),Object(c.J)(i,"click",t[20]),Object(c.J)(u,"click",t[21]),Object(c.J)($,"click",t[23]),Object(c.J)(N,"click",t[24]),Object(c.J)(R,"click",t[25]),Object(c.J)(ct,"input",t[26]),Object(c.J)(ot,"change",t[27]),Object(c.J)(ut,"change",t[28]),Object(c.J)(pt,"change",t[29]),Object(c.J)(Tt,"click",t[30]),Object(c.J)(It,"click",t[31])],Gt=!0)},p(t,e){if((!Ft||8&e[0]&&s!==(s="recent"===t[3]))&&(n.disabled=s),(!Ft||8&e[0]&&b!==(b="setup"===t[3]))&&(i.disabled=b),(!Ft||8&e[0]&&d!==(d="settings"===t[3]))&&(u.disabled=d),139265&e[0]){const n=t[0];Object(c.E)();for(let t=0;t<Xt.length;t+=1)Xt[t].r();Xt=Object(c.kb)(Xt,e,Wt,1,t,n,Dt,m,c.A,Z,null,Y);for(let t=0;t<Xt.length;t+=1)Xt[t].a();Object(c.l)()}if(8&e[0]&&Object(c.hb)(O,"tab-active","recent"===t[3]),(!Ft||64&e[0])&&Object(c.X)(M,t[6]),(!Ft||128&e[0])&&Object(c.X)(A,t[7]),t[8]?qt?qt.p(t,e):(qt=Q(t),qt.c(),qt.m(x,L)):qt&&(qt.d(1),qt=null),8&e[0]&&Object(c.hb)(x,"tab-active","setup"===t[3]),512&e[0]&&Object(c.Y)(ct,t[9]),1024&e[0]&&(ot.checked=t[10]),256&e[0]&&(ut.checked=t[8]),2048&e[0]&&(pt.checked=t[11]),(!Ft||2&e[0])&&Bt!==(Bt=t[1].fileName+"")&&Object(c.X)(wt,Bt),(!Ft||64&e[0])&&Object(c.X)(Ht,t[6]),(!Ft||128&e[0])&&Object(c.X)(Mt,t[7]),2&e[0]){let n;for(Yt=t[1].debugInfo(),n=0;n<Yt.length;n+=1){const c=q(t,Yt,n);Ut[n]?Ut[n].p(c,e):(Ut[n]=tt(c),Ut[n].c(),Ut[n].m(vt,null))}for(;n<Ut.length;n+=1)Ut[n].d(1);Ut.length=Yt.length}8&e[0]&&Object(c.hb)(B,"tab-active","settings"===t[3])},i(t){if(!Ft){for(let t=0;t<Vt.length;t+=1)Object(c.ib)(Xt[t]);Object(c.ib)(X.$$.fragment,t),Ft=!0}},o(t){for(let t=0;t<Xt.length;t+=1)Object(c.jb)(Xt[t]);Object(c.jb)(X.$$.fragment,t),Ft=!1},d(t){t&&Object(c.x)(e),t&&Object(c.x)(j),t&&Object(c.x)(O);for(let t=0;t<Xt.length;t+=1)Xt[t].d();t&&Object(c.x)(g),t&&Object(c.x)(x),qt&&qt.d(),Object(c.v)(X),t&&Object(c.x)(D),t&&Object(c.x)(B),Object(c.w)(Ut,t),Gt=!1,Object(c.T)(Lt)}}}function K(t){let e,n,r,s,o,i,l;return{c(){e=Object(c.y)("div"),n=Object(c.y)("div"),r=Object(c.y)("button"),r.textContent="Select Subtitles",s=Object(c.ab)(),o=Object(c.y)("div"),o.innerHTML='<a target="_blank" href="https://github.com/sheodox/jimaku-player/issues" rel="noopener noreferrer" class="svelte-dr1m8c">Issue? Report it here!</a>',Object(c.h)(n,"class","row svelte-dr1m8c"),Object(c.h)(o,"class","row svelte-dr1m8c"),Object(c.h)(e,"class","tab tab-active tab-cancelled svelte-dr1m8c")},m(b,a){Object(c.H)(b,e,a),Object(c.f)(e,n),Object(c.f)(n,r),Object(c.f)(e,s),Object(c.f)(e,o),i||(l=Object(c.J)(r,"click",t[18]),i=!0)},p:c.M,i:c.M,o:c.M,d(t){t&&Object(c.x)(e),i=!1,l()}}}function Z(t,e){let n,r,s,o,i,l,b,a,u,f,j,p,h,m=(e[42].text||"").trim()+"",g=c.M;return{key:t,first:null,c(){n=Object(c.y)("li"),r=Object(c.y)("button"),r.innerHTML='⯇<span class="sr">Rewind to this subtitle</span>',s=Object(c.ab)(),o=Object(c.y)("a"),i=Object(c.eb)(m),b=Object(c.ab)(),Object(c.h)(r,"class","small-button secondary"),Object(c.h)(r,"title","Rewind to this subtitle"),Object(c.h)(o,"target","_blank"),Object(c.h)(o,"href",l=`https://jisho.org/search/${encodeURIComponent(e[42].text.trim())}`),Object(c.h)(o,"rel","noopener noreferrer"),Object(c.h)(o,"class","svelte-dr1m8c"),Object(c.h)(n,"class","svelte-dr1m8c"),this.first=n},m(t,l){Object(c.H)(t,n,l),Object(c.f)(n,r),Object(c.f)(n,s),Object(c.f)(n,o),Object(c.f)(o,i),Object(c.f)(n,b),j=!0,p||(h=[Object(c.J)(r,"click",(function(){Object(c.I)(e[17](e[42]))&&e[17](e[42]).apply(this,arguments)})),Object(c.J)(o,"click",e[22])],p=!0)},p(t,n){e=t,(!j||1&n[0])&&m!==(m=(e[42].text||"").trim()+"")&&Object(c.X)(i,m),(!j||1&n[0]&&l!==(l=`https://jisho.org/search/${encodeURIComponent(e[42].text.trim())}`))&&Object(c.h)(o,"href",l)},r(){f=n.getBoundingClientRect()},f(){Object(c.B)(n),g(),Object(c.e)(n,f)},a(){g(),g=Object(c.p)(n,f,O,{duration:200})},i(t){j||(Object(c.d)(()=>{u&&u.end(1),a||(a=Object(c.s)(n,d.b,{y:-50,duration:200})),a.start()}),j=!0)},o(t){a&&a.invalidate(),u=Object(c.t)(n,d.b,{y:50,duration:200}),j=!1},d(t){t&&Object(c.x)(n),t&&u&&u.end(),p=!1,Object(c.T)(h)}}}function Q(t){let e,n,r;return{c(){e=Object(c.y)("button"),e.textContent="Resume Video",Object(c.h)(e,"id","resume-button"),Object(c.h)(e,"class","secondary svelte-dr1m8c")},m(t,s){Object(c.H)(t,e,s),n||(r=Object(c.J)(e,"click",ct),n=!0)},p:c.M,d(t){t&&Object(c.x)(e),n=!1,r()}}}function tt(t){let e,n,r,s,o=t[39].title+"",i=t[39].detail+"";return{c(){e=Object(c.y)("dt"),n=Object(c.eb)(o),r=Object(c.y)("dd"),s=Object(c.eb)(i),Object(c.h)(e,"class","svelte-dr1m8c"),Object(c.h)(r,"class","svelte-dr1m8c")},m(t,o){Object(c.H)(t,e,o),Object(c.f)(e,n),Object(c.H)(t,r,o),Object(c.f)(r,s)},p(t,e){2&e[0]&&o!==(o=t[39].title+"")&&Object(c.X)(n,o),2&e[0]&&i!==(i=t[39].detail+"")&&Object(c.X)(s,i)},d(t){t&&Object(c.x)(e),t&&Object(c.x)(r)}}}function et(t){let e,n;return e=new J({}),e.$on("close",t[32]),{c(){Object(c.r)(e.$$.fragment)},m(t,r){Object(c.L)(e,t,r),n=!0},p:c.M,i(t){n||(Object(c.ib)(e.$$.fragment,t),n=!0)},o(t){Object(c.jb)(e.$$.fragment,t),n=!1},d(t){Object(c.v)(e,t)}}}function nt(t){let e,n,r,s,o,i,l,b,a,u,f,d;const j=[K,U],O=[];function p(t,e){return"cancelled"===t[2]?0:"normal"===t[2]?1:-1}~(s=p(t))&&(o=O[s]=j[s](t));let h=t[4]&&et(t);return{c(){e=Object(c.y)("div"),n=Object(c.y)("h1"),n.textContent="字幕プレーヤー",r=Object(c.ab)(),o&&o.c(),i=Object(c.ab)(),l=Object(c.y)("div"),l.innerHTML='<a target="_blank" href="https://discord.gg/Vyjjyj4" rel="noopener noreferrer" class="svelte-dr1m8c">Release notes and discussion here on Discord!</a>',b=Object(c.ab)(),h&&h.c(),a=Object(c.z)(),Object(c.h)(n,"class","svelte-dr1m8c"),Object(c.h)(l,"class","row svelte-dr1m8c"),Object(c.h)(e,"class","tray svelte-dr1m8c"),Object(c.Z)(e,"right",t[5]+"rem"),Object(c.hb)(e,"hidden",t[4])},m(o,j){Object(c.H)(o,e,j),Object(c.f)(e,n),Object(c.f)(e,r),~s&&O[s].m(e,null),Object(c.f)(e,i),Object(c.f)(e,l),Object(c.H)(o,b,j),h&&h.m(o,j),Object(c.H)(o,a,j),u=!0,f||(d=[Object(c.J)(e,"mouseenter",t[16](!0)),Object(c.J)(e,"mouseleave",t[16](!1))],f=!0)},p(t,n){let r=s;s=p(t),s===r?~s&&O[s].p(t,n):(o&&(Object(c.E)(),Object(c.jb)(O[r],1,1,()=>{O[r]=null}),Object(c.l)()),~s?(o=O[s],o||(o=O[s]=j[s](t),o.c()),Object(c.ib)(o,1),o.m(e,i)):o=null),(!u||32&n[0])&&Object(c.Z)(e,"right",t[5]+"rem"),16&n[0]&&Object(c.hb)(e,"hidden",t[4]),t[4]?h?(h.p(t,n),16&n[0]&&Object(c.ib)(h,1)):(h=et(t),h.c(),Object(c.ib)(h,1),h.m(a.parentNode,a)):h&&(Object(c.E)(),Object(c.jb)(h,1,1,()=>{h=null}),Object(c.l)())},i(t){u||(Object(c.ib)(o),Object(c.ib)(h),u=!0)},o(t){Object(c.jb)(o),Object(c.jb)(h),u=!1},d(t){t&&Object(c.x)(e),~s&&O[s].d(),t&&Object(c.x)(b),h&&h.d(t),t&&Object(c.x)(a),f=!1,Object(c.T)(d)}}}function ct(){document.querySelector("video").play()}function rt(t,e,n){let o,i,l,d,O,p,m,g,x;Object(c.m)(t,y,t=>n(33,o=t)),Object(c.m)(t,E,t=>n(6,l=t)),Object(c.m)(t,M,t=>n(7,d=t)),Object(c.m)(t,u,t=>n(8,O=t)),Object(c.m)(t,b,t=>n(9,p=t)),Object(c.m)(t,a,t=>n(10,m=t)),Object(c.m)(t,f,t=>n(11,g=t)),Object(c.m)(t,I,t=>n(12,x=t));const v=Object(r.a)(),k=-26,$=0,w=function(t,e={}){const n=Object(s.d)(t);let r,o=t;function i(s,i){if(null==t)return n.set(t=s),Promise.resolve();o=s;let l=r,b=!1,{delay:a=0,duration:u=400,easing:f=j.c,interpolate:d=h}=Object(c.g)(Object(c.g)({},e),i);if(0===u)return l&&(l.abort(),l=null),n.set(t=o),Promise.resolve();const O=Object(c.N)()+a;let p;return r=Object(c.K)(e=>{if(e<O)return!0;b||(p=d(t,s),"function"==typeof u&&(u=u(t,s)),b=!0),l&&(l.abort(),l=null);const c=e-O;return c>u?(n.set(t=s),!1):(n.set(t=p(f(c/u))),!0)}),r.promise}return{set:i,update:(e,n)=>i(e(o,t),n),subscribe:n.subscribe}}(k,{duration:300,easing:j.b});Object(c.m)(t,w,t=>n(5,i=t));let{recentSubs:S=[]}=e,{subtitles:C={}}=e,{mode:H="normal"}=e,_="recent",A=!1;function P(t){const e=document.createElement("a"),n=new Blob([C.serialize(t)],{type:"application/json"});e.download="parsed-subtitles.json",e.href=URL.createObjectURL(n),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return t.$$set=t=>{"recentSubs"in t&&n(0,S=t.recentSubs),"subtitles"in t&&n(1,C=t.subtitles),"mode"in t&&n(2,H=t.mode)},[S,C,H,_,A,i,l,d,O,p,m,g,x,v,w,P,function(t){return()=>{w.set(t?$:k),t&&!Object(s.b)(u)||v("tray-pauser",t)}},function(t){document.querySelector("video").currentTime=(t.start+o)/1e3-.5},()=>v("restart"),()=>n(3,_="recent"),()=>n(3,_="setup"),()=>n(3,_="settings"),()=>v("define-pauser"),()=>v("restart"),()=>v("realign"),()=>n(4,A=!0),function(){p=this.value,b.set(p)},function(){m=this.checked,a.set(m)},function(){O=this.checked,u.set(O)},function(){g=this.checked,f.set(g)},()=>P(),()=>P(x),()=>n(4,A=!1)]}class st extends c.a{constructor(t){var e;super(),W.getElementById("svelte-dr1m8c-style")||((e=Object(c.y)("style")).id="svelte-dr1m8c-style",e.textContent='.tray.svelte-dr1m8c.svelte-dr1m8c{width:28rem;margin-top:0.5rem;background:rgba(255, 255, 255, 0.2);position:fixed;right:0;top:0;color:white;height:calc(100% - 5rem);display:flex;flex-direction:column;text-align:center}.tray.svelte-dr1m8c>.svelte-dr1m8c{visibility:hidden}.tray.svelte-dr1m8c.svelte-dr1m8c:hover{background:#111218;overflow:auto;border-radius:3px}.tray.svelte-dr1m8c:hover>.svelte-dr1m8c{visibility:visible}.tray.svelte-dr1m8c h1.svelte-dr1m8c{font-size:2rem;padding:0.5rem 0;border-radius:3px;margin:0}.tray.svelte-dr1m8c h2.svelte-dr1m8c{text-decoration:underline;margin:0 0 0.4rem}ul.svelte-dr1m8c.svelte-dr1m8c{list-style:none;padding:0;display:flex;flex-direction:column-reverse}a.svelte-dr1m8c.svelte-dr1m8c{color:white;transform:scaleY(0);transform-origin:top;transition:transform 0.5s ease;font-family:"Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans", "Noto Sans CJK JP", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif}.tab-recent.svelte-dr1m8c a.svelte-dr1m8c:not(:hover){text-decoration:none}a.svelte-dr1m8c.svelte-dr1m8c:hover{color:#0aff8c;cursor:pointer;text-decoration:underline}li.svelte-dr1m8c.svelte-dr1m8c{padding-bottom:0.2rem}li.svelte-dr1m8c a.svelte-dr1m8c{white-space:pre}li.svelte-dr1m8c.svelte-dr1m8c:not(:first-of-type)::after{content:\' \';height:0;position:relative;border:1px solid #4a4a6a;display:block;margin:0 auto;border-radius:4px}dt.svelte-dr1m8c.svelte-dr1m8c{font-weight:bold}dd.svelte-dr1m8c.svelte-dr1m8c{font-style:italic}.tab.svelte-dr1m8c.svelte-dr1m8c{display:none;text-align:left;padding:2rem;background:#1c1825;border-top:2px solid #f47521}.tab-active.svelte-dr1m8c.svelte-dr1m8c{display:block;flex:1}.tray-tab-buttons.svelte-dr1m8c.svelte-dr1m8c{margin:0.2rem}.row.svelte-dr1m8c.svelte-dr1m8c:not(:last-child){margin-bottom:0.5rem}.tab-cancelled.svelte-dr1m8c.svelte-dr1m8c{text-align:center}.hidden.svelte-dr1m8c.svelte-dr1m8c{display:none}h3.svelte-dr1m8c.svelte-dr1m8c{margin:0}#resume-button.svelte-dr1m8c.svelte-dr1m8c{width:100%}kbd.svelte-dr1m8c.svelte-dr1m8c{color:white;background:#2f2d2d;border:1px solid #444;border-radius:0.2rem;padding:0 0.2rem;font-family:monospace}.muted.svelte-dr1m8c.svelte-dr1m8c{color:#5b5c6f}',Object(c.f)(W.head,e)),Object(c.G)(this,t,rt,nt,c.U,{recentSubs:0,subtitles:1,mode:2},[-1,-1])}}var ot=st;function it(t,e,n){const c=t.slice();return c[14]=e[n],c}function lt(t,e,n){const c=t.slice();return c[11]=e[n],c}function bt(t){let e,n,r=[],s=new Map,o=t[0];const i=t=>t[11]._id;for(let e=0;e<o.length;e+=1){let n=lt(t,o,e),c=i(n);s.set(c,r[e]=dt(c,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Object(c.z)()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);Object(c.H)(t,e,s),n=!0},p(t,n){if(13&n){const o=t[0];Object(c.E)(),r=Object(c.kb)(r,n,i,1,t,o,s,e.parentNode,c.Q,dt,e,lt),Object(c.l)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Object(c.ib)(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)Object(c.jb)(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&Object(c.x)(e)}}}function at(t){let e,n=t[11].text+"";return{c(){e=Object(c.eb)(n)},m(t,n){Object(c.H)(t,e,n)},p(t,r){1&r&&n!==(n=t[11].text+"")&&Object(c.X)(e,n)},i:c.M,o:c.M,d(t){t&&Object(c.x)(e)}}}function ut(t){let e,n,r=[],s=new Map,o=t[11].phrases;const i=t=>t[14]._id;for(let e=0;e<o.length;e+=1){let n=it(t,o,e),c=i(n);s.set(c,r[e]=ft(c,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Object(c.z)()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);Object(c.H)(t,e,s),n=!0},p(t,n){if(1&n){const o=t[11].phrases;Object(c.E)(),r=Object(c.kb)(r,n,i,1,t,o,s,e.parentNode,c.Q,ft,e,it),Object(c.l)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Object(c.ib)(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)Object(c.jb)(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&Object(c.x)(e)}}}function ft(t,e){let n,r,s,o,i,l,b,a=e[14].text+"";return{key:t,first:null,c(){n=Object(c.y)("span"),r=Object(c.eb)(a),Object(c.h)(n,"style",s=pt(e[14])),Object(c.h)(n,"data-phrase-id",o=e[14]._id),this.first=n},m(t,e){Object(c.H)(t,n,e),Object(c.f)(n,r),b=!0},p(t,i){e=t,(!b||1&i)&&a!==(a=e[14].text+"")&&Object(c.X)(r,a),(!b||1&i&&s!==(s=pt(e[14])))&&Object(c.h)(n,"style",s),(!b||1&i&&o!==(o=e[14]._id))&&Object(c.h)(n,"data-phrase-id",o)},i(t){b||(Object(c.d)(()=>{l&&l.end(1),i||(i=Object(c.s)(n,d.a,ht(e[14].fadeIn))),i.start()}),b=!0)},o(t){i&&i.invalidate(),l=Object(c.t)(n,d.a,ht(e[14].fadeOut)),b=!1},d(t){t&&Object(c.x)(n),t&&l&&l.end()}}}function dt(t,e){let n,r,s,o,i,l,b,a,u,f;const d=[ut,at],j=[];function O(t,e){return t[11].phrases?0:1}function p(...t){return e[6](e[11],...t)}return r=O(e),s=j[r]=d[r](e),{key:t,first:null,c(){n=Object(c.y)("p"),s.c(),o=Object(c.ab)(),Object(c.h)(n,"style",i=e[3](e[11])),Object(c.h)(n,"data-sub-style",l=e[11].style),Object(c.h)(n,"data-sub-id",b=e[11]._id),Object(c.h)(n,"title","click to search this phrase on Jisho.org"),Object(c.h)(n,"class","svelte-nduvur"),this.first=n},m(t,e){Object(c.H)(t,n,e),j[r].m(n,null),Object(c.f)(n,o),a=!0,u||(f=Object(c.J)(n,"click",p),u=!0)},p(t,u){let f=r;r=O(e=t),r===f?j[r].p(e,u):(Object(c.E)(),Object(c.jb)(j[f],1,1,()=>{j[f]=null}),Object(c.l)(),s=j[r],s||(s=j[r]=d[r](e),s.c()),Object(c.ib)(s,1),s.m(n,o)),(!a||1&u&&i!==(i=e[3](e[11])))&&Object(c.h)(n,"style",i),(!a||1&u&&l!==(l=e[11].style))&&Object(c.h)(n,"data-sub-style",l),(!a||1&u&&b!==(b=e[11]._id))&&Object(c.h)(n,"data-sub-id",b)},i(t){a||(Object(c.ib)(s),a=!0)},o(t){Object(c.jb)(s),a=!1},d(t){t&&Object(c.x)(n),j[r].d(),u=!1,f()}}}function jt(t){let e,n,r=t[1]&&bt(t);return{c(){e=Object(c.y)("div"),r&&r.c(),Object(c.h)(e,"class","subtitles")},m(t,s){Object(c.H)(t,e,s),r&&r.m(e,null),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&Object(c.ib)(r,1)):(r=bt(t),r.c(),Object(c.ib)(r,1),r.m(e,null)):r&&(Object(c.E)(),Object(c.jb)(r,1,1,()=>{r=null}),Object(c.l)())},i(t){n||(Object(c.ib)(r),n=!0)},o(t){Object(c.jb)(r),n=!1},d(t){t&&Object(c.x)(e),r&&r.d()}}}function Ot(t){return t.filter(t=>!!t).join(";")}function pt(t){return Ot([t.inline])}function ht(t){return"number"!=typeof t&&(t=0),{delay:0,duration:t}}function mt(t,e,n){let s;Object(c.m)(t,a,t=>n(1,s=t));let{current:o=[]}=e,{styles:i={}}=e,{format:l=""}=e;const u=Object(r.a)();let d,j;const O=[b.subscribe(t=>{d=t}),f.subscribe(t=>{j=t?"inverted":"normal"})];function p(t){u("define-pauser"),window.open(`https://jisho.org/search/${encodeURIComponent(t.trim())}`)}Object(r.b)(()=>{O.forEach(t=>t())});return t.$$set=t=>{"current"in t&&n(0,o=t.current),"styles"in t&&n(4,i=t.styles),"format"in t&&n(5,l=t.format)},[o,s,p,function(t){let e=[`color: ${d}`];if("ass"===l&&t.style in i){const n=i[t.style];e.push(n.inline),e.push(n.verticalAlignment[j])}return t.verticalAlignment&&e.push(t.verticalAlignment[j]),e=e.concat([t.inline||""]),Ot(e)},i,l,t=>p(t.text)]}class gt extends c.a{constructor(t){var e;super(),document.getElementById("svelte-nduvur-style")||((e=Object(c.y)("style")).id="svelte-nduvur-style",e.textContent='p.svelte-nduvur{cursor:pointer;color:white;margin:0;padding:0;white-space:pre;font-family:"Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans", "Noto Sans CJK JP", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif;text-align:center}p.svelte-nduvur:hover{color:#0aff8c !important}',Object(c.f)(document.head,e)),Object(c.G)(this,t,mt,jt,c.U,{current:0,styles:4,format:5})}}var xt=gt;class yt{constructor(){this.video=null,this.reasons=[]}setVideo(t){this.reasons=[],this.video=t}addPauser(t){this.reasons.includes("user-paused")&&!this.video.paused&&this.reasons.splice(this.reasons.indexOf("user-paused")),0===this.reasons.length&&this.video.paused&&this.reasons.push("user-paused"),this.reasons.includes(t)||this.reasons.push(t),this._checkPause()}removePauser(t){const e=this.reasons.indexOf(t);-1!==e&&(this.reasons.splice(e,1),this._checkPause())}_checkPause(){this.reasons.length?this.video.pause():this.video.play()}}var vt=n(20),kt=n.n(vt),$t=n(19),wt=n.n($t);const St={"line-left":"0%",center:"-50%","line-right":"-100%"};class Ct extends wt.a{constructor(t,e){super("srt",e);const n=t.replace(/\r/g,"").split("\n\n");this.subs=n.reduce((t,e)=>{let n=e.trim().split("\n");function c(){n.shift()}try{/^\d*$/.test(n[0])&&c();let[e,r]=n[0].replace(/,/g,".").match(/^([\d:\.\-> ]*)/)[0].split(/\-\->/),s=n[0].match(/([a-zA-Z].*)/);s=s&&s.length?s[1]:"";let o=[],i=[];const l=n.length-1,b=(t,e)=>{const n=s.match(new RegExp(`${t}:([\\d\\.]*)%`));return n?parseInt(n[1],10):e},a=t=>{const e=s.match(new RegExp(`${t}:([w-]*?)`));if(e)return e[1]},u=()=>{const t=s.match(/position:([\d.]*)%(?:,(\w*))?/);return t?{position:parseInt(t[1]),positionAlignment:"middle"===t[2]?"center":t[2]}:{position:50,positionAlignment:"center"}},f=5;let{position:d,positionAlignment:j="center"}=u(),O=(a("align"),b("line",90-l*f)),p=b("size",100);i.push(`position: fixed; left: ${d}vw`),j&&j in St&&o.push(`transform: translateX(${St[j]})`),o.push(`display:block; width: ${p}vw`),c();const h=n.join("\n").replace(/<\/?c.Japanese>/g,"");o.push(`font-size: ${f}vh`),o.push("text-shadow: -4px -4px 0px rgba(9, 9, 9, 255), -4px -3px 0px rgba(9, 9, 9, 255), -4px -2px 0px rgba(9, 9, 9, 255), -4px -1px 0px rgba(9, 9, 9, 255), -4px 0px 0px rgba(9, 9, 9, 255), -4px 1px 0px rgba(9, 9, 9, 255), -4px 2px 0px rgba(9, 9, 9, 255), -4px 3px 0px rgba(9, 9, 9, 255), -4px 4px 0px rgba(9, 9, 9, 255), -3px -4px 0px rgba(9, 9, 9, 255), -3px -3px 0px rgba(9, 9, 9, 255), -3px -2px 0px rgba(9, 9, 9, 255), -3px -1px 0px rgba(9, 9, 9, 255), -3px 0px 0px rgba(9, 9, 9, 255), -3px 1px 0px rgba(9, 9, 9, 255), -3px 2px 0px rgba(9, 9, 9, 255), -3px 3px 0px rgba(9, 9, 9, 255), -3px 4px 0px rgba(9, 9, 9, 255), -2px -4px 0px rgba(9, 9, 9, 255), -2px -3px 0px rgba(9, 9, 9, 255), -2px -2px 0px rgba(9, 9, 9, 255), -2px -1px 0px rgba(9, 9, 9, 255), -2px 0px 0px rgba(9, 9, 9, 255), -2px 1px 0px rgba(9, 9, 9, 255), -2px 2px 0px rgba(9, 9, 9, 255), -2px 3px 0px rgba(9, 9, 9, 255), -2px 4px 0px rgba(9, 9, 9, 255), -1px -4px 0px rgba(9, 9, 9, 255), -1px -3px 0px rgba(9, 9, 9, 255), -1px -2px 0px rgba(9, 9, 9, 255), -1px -1px 0px rgba(9, 9, 9, 255), -1px 0px 0px rgba(9, 9, 9, 255), -1px 1px 0px rgba(9, 9, 9, 255), -1px 2px 0px rgba(9, 9, 9, 255), -1px 3px 0px rgba(9, 9, 9, 255), -1px 4px 0px rgba(9, 9, 9, 255), 0px -4px 0px rgba(9, 9, 9, 255), 0px -3px 0px rgba(9, 9, 9, 255), 0px -2px 0px rgba(9, 9, 9, 255), 0px -1px 0px rgba(9, 9, 9, 255), 0px 0px 0px rgba(9, 9, 9, 255), 0px 1px 0px rgba(9, 9, 9, 255), 0px 2px 0px rgba(9, 9, 9, 255), 0px 3px 0px rgba(9, 9, 9, 255), 0px 4px 0px rgba(9, 9, 9, 255), 1px -4px 0px rgba(9, 9, 9, 255), 1px -3px 0px rgba(9, 9, 9, 255), 1px -2px 0px rgba(9, 9, 9, 255), 1px -1px 0px rgba(9, 9, 9, 255), 1px 0px 0px rgba(9, 9, 9, 255), 1px 1px 0px rgba(9, 9, 9, 255), 1px 2px 0px rgba(9, 9, 9, 255), 1px 3px 0px rgba(9, 9, 9, 255), 1px 4px 0px rgba(9, 9, 9, 255), 2px -4px 0px rgba(9, 9, 9, 255), 2px -3px 0px rgba(9, 9, 9, 255), 2px -2px 0px rgba(9, 9, 9, 255), 2px -1px 0px rgba(9, 9, 9, 255), 2px 0px 0px rgba(9, 9, 9, 255), 2px 1px 0px rgba(9, 9, 9, 255), 2px 2px 0px rgba(9, 9, 9, 255), 2px 3px 0px rgba(9, 9, 9, 255), 2px 4px 0px rgba(9, 9, 9, 255), 3px -4px 0px rgba(9, 9, 9, 255), 3px -3px 0px rgba(9, 9, 9, 255), 3px -2px 0px rgba(9, 9, 9, 255), 3px -1px 0px rgba(9, 9, 9, 255), 3px 0px 0px rgba(9, 9, 9, 255), 3px 1px 0px rgba(9, 9, 9, 255), 3px 2px 0px rgba(9, 9, 9, 255), 3px 3px 0px rgba(9, 9, 9, 255), 3px 4px 0px rgba(9, 9, 9, 255), 4px -4px 0px rgba(9, 9, 9, 255), 4px -3px 0px rgba(9, 9, 9, 255), 4px -2px 0px rgba(9, 9, 9, 255), 4px -1px 0px rgba(9, 9, 9, 255), 4px 0px 0px rgba(9, 9, 9, 255), 4px 1px 0px rgba(9, 9, 9, 255), 4px 2px 0px rgba(9, 9, 9, 255), 4px 3px 0px rgba(9, 9, 9, 255), 4px 4px 0px rgba(9, 9, 9, 255), 2px 2px 0px rgba(20, 20, 20, 195)");const m=l*10;t.push({_id:this.genId(),start:this.timeToMs(e),end:this.timeToMs(r),verticalAlignment:{normal:`position: fixed; top: calc(${O}vh - ${m}px);`,inverted:`position: fixed; top: calc(${100-O}vh + ${m}px); transform: translateY(-100%)`},text:h,inline:i.join("; "),phrases:[{_id:this.genId(),text:h,inline:o.join("; ")}]})}catch(t){}return t},[])}serialize(t){return JSON.stringify("number"==typeof t?this.getSubs(t):this.subs,null,4)}debugInfo(){return[{title:"Number of subtitles",detail:this.subs.length}]}}function Ht(t,e,n){const c=t.slice();return c[6]=e[n],c}function _t(t){let e,n,r,s,o,i,l,b=t[6].title+"",a=t[6].language+"";function u(...e){return t[3](t[6],...e)}return{c(){e=Object(c.y)("button"),n=Object(c.eb)(b),r=Object(c.eb)(" ("),s=Object(c.eb)(a),o=Object(c.eb)(")\n\t\t"),Object(c.h)(e,"class","secondary svelte-1n5tabm")},m(t,b){Object(c.H)(t,e,b),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),i||(l=Object(c.J)(e,"click",u),i=!0)},p(e,n){t=e},d(t){t&&Object(c.x)(e),i=!1,l()}}}function Mt(t){let e,n,r,s,o,i,l,b,a,u=window.jimakuProvidedSubtitles||[],f=[];for(let e=0;e<u.length;e+=1)f[e]=_t(Ht(t,u,e));return{c(){e=Object(c.y)("div"),n=Object(c.y)("button"),n.textContent="⨯ Skip Subtitling For This Episode",r=Object(c.ab)(),s=Object(c.y)("label"),s.textContent="≡ Select a subtitle file to begin",o=Object(c.ab)(),i=Object(c.y)("input"),l=Object(c.ab)();for(let t=0;t<f.length;t+=1)f[t].c();Object(c.h)(n,"class","small-button secondary svelte-1n5tabm"),Object(c.h)(s,"for","srt-upload"),Object(c.h)(s,"class","svelte-1n5tabm"),Object(c.h)(i,"type","file"),Object(c.h)(i,"id","srt-upload"),Object(c.h)(i,"accept",".srt,.ass,.ssa,.vtt"),Object(c.h)(i,"class","svelte-1n5tabm"),Object(c.h)(e,"class","column svelte-1n5tabm")},m(u,d){Object(c.H)(u,e,d),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),Object(c.f)(e,i),Object(c.f)(e,l);for(let t=0;t<f.length;t+=1)f[t].m(e,null);b||(a=[Object(c.J)(n,"click",t[2]),Object(c.J)(i,"change",t[0])],b=!0)},p(t,[n]){if(2&n){let c;for(u=window.jimakuProvidedSubtitles||[],c=0;c<u.length;c+=1){const r=Ht(t,u,c);f[c]?f[c].p(r,n):(f[c]=_t(r),f[c].c(),f[c].m(e,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=u.length}},i:c.M,o:c.M,d(t){t&&Object(c.x)(e),Object(c.w)(f,t),b=!1,Object(c.T)(a)}}}function Et(t){const e=Object(r.a)();function n(t){c(t.format,t.content,t.title,!0)}function c(t,n,c,r=!1){const s={ass:kt.a,ssa:kt.a,srt:Ct,vtt:Ct};e("subtitles-loaded",{skipAlignment:r,subtitles:new s[t](n,c)})}return[function(t){const e=t.target.files[0],n=new FileReader;n.onload=t=>{const[n,r]=e.name.match(/\.(\w{3})$/);c(r,t.target.result,e.name)},n.readAsText(e)},n,function(){e("cancel")},t=>n(t)]}class At extends c.a{constructor(t){var e;super(),document.getElementById("svelte-1n5tabm-style")||((e=Object(c.y)("style")).id="svelte-1n5tabm-style",e.textContent=".column.svelte-1n5tabm.svelte-1n5tabm{display:flex;flex-direction:column}.column.svelte-1n5tabm>.svelte-1n5tabm{align-self:center;margin:0.5rem}label.svelte-1n5tabm.svelte-1n5tabm{background:#fd0;border:none;cursor:pointer;padding:10px;line-height:1;font-weight:bold;color:black;text-transform:uppercase;display:inline-block;font-size:1.2rem}label.svelte-1n5tabm.svelte-1n5tabm:hover{background:#ffea6d}input.svelte-1n5tabm.svelte-1n5tabm{display:none}",Object(c.f)(document.head,e)),Object(c.G)(this,t,Et,Mt,c.U,{})}}var Pt=At;const{document:Tt}=c.D;function Jt(t,e,n){const c=t.slice();return c[29]=e[n],c}function Nt(t,e,n){const c=t.slice();return c[26]=e[n],c}function It(t){let e;return{c(){e=Object(c.eb)("← Back")},m(t,n){Object(c.H)(t,e,n)},d(t){t&&Object(c.x)(e)}}}function Rt(t){let e;return{c(){e=Object(c.eb)("↺ Reselect Subtitles")},m(t,n){Object(c.H)(t,e,n)},d(t){t&&Object(c.x)(e)}}}function zt(t){let e,n,r,s,o,i,l,b,a,u,f,d,j;return{c(){e=Object(c.y)("div"),n=Object(c.y)("form"),r=Object(c.y)("label"),r.textContent="Offset subtitle display times (in seconds):",s=Object(c.ab)(),o=Object(c.y)("div"),i=Object(c.y)("input"),b=Object(c.ab)(),a=Object(c.y)("button"),a.textContent="Use this",u=Object(c.ab)(),f=Object(c.y)("p"),f.textContent="Positive numbers will delay subtitles.\n\t\t\t\t\tNegative numbers will show the subtitles earlier.",Object(c.h)(r,"for","manual-alignment"),Object(c.h)(r,"class","svelte-xgf48k"),Object(c.h)(i,"type","text"),Object(c.h)(i,"id","manual-alignment"),Object(c.h)(i,"autocomplete","off"),Object(c.h)(i,"class","svelte-xgf48k"),Object(c.h)(a,"class","svelte-xgf48k"),Object(c.h)(o,"class","row svelte-xgf48k"),Object(c.h)(n,"class","column svelte-xgf48k"),Object(c.h)(f,"class","alignment-sign-hint svelte-xgf48k"),Object(c.h)(e,"class","column svelte-xgf48k")},m(O,p){Object(c.H)(O,e,p),Object(c.f)(e,n),Object(c.f)(n,r),Object(c.f)(n,s),Object(c.f)(n,o),Object(c.f)(o,i),Object(c.Y)(i,t[1]),Object(c.f)(o,b),Object(c.f)(o,a),Object(c.f)(e,u),Object(c.f)(e,f),d||(j=[Object(c.J)(i,"input",t[23]),Object(c.J)(i,"keydown",t[10]),Object(c.b)(l=Kt.call(null,i)),Object(c.J)(n,"submit",Object(c.R)(t[11]))],d=!0)},p(t,e){2&e[0]&&i.value!==t[1]&&Object(c.Y)(i,t[1])},i:c.M,o:c.M,d(t){t&&Object(c.x)(e),d=!1,Object(c.T)(j)}}}function Ft(t){let e,n,r,s,o,i,l,b,a,u,f,d,j,O,p,h=0===t[0].length&&Lt(t),m=t[0],g=[];for(let e=0;e<m.length;e+=1)g[e]=Vt(Nt(t,m,e));return{c(){e=Object(c.y)("label"),n=Object(c.eb)("Can't find a line? Search all subtitles:\n\t\t\t\t"),r=Object(c.y)("br"),s=Object(c.ab)(),o=Object(c.y)("input"),i=Object(c.ab)(),l=Object(c.y)("fieldset"),b=Object(c.y)("legend"),b.textContent="Click a subtitle as soon as you hear it said",a=Object(c.ab)(),u=Object(c.y)("div"),h&&h.c(),f=Object(c.ab)();for(let t=0;t<g.length;t+=1)g[t].c();d=Object(c.ab)(),j=Object(c.y)("button"),j.textContent="Or manually enter an offset...",Object(c.h)(o,"type","text"),Object(c.h)(o,"placeholder","type something you heard"),Object(c.h)(o,"class","svelte-xgf48k"),Object(c.h)(e,"id","subtitle-search"),Object(c.h)(e,"class","svelte-xgf48k"),Object(c.h)(b,"class","svelte-xgf48k"),Object(c.h)(u,"id","subtitle-options"),Object(c.h)(u,"class","column svelte-xgf48k"),Object(c.h)(l,"class","svelte-xgf48k"),Object(c.h)(j,"class","secondary svelte-xgf48k")},m(m,x){Object(c.H)(m,e,x),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),Object(c.Y)(o,t[3]),Object(c.H)(m,i,x),Object(c.H)(m,l,x),Object(c.f)(l,b),Object(c.f)(l,a),Object(c.f)(l,u),h&&h.m(u,null),Object(c.f)(u,f);for(let t=0;t<g.length;t+=1)g[t].m(u,null);Object(c.H)(m,d,x),Object(c.H)(m,j,x),O||(p=[Object(c.J)(o,"input",t[19]),Object(c.J)(j,"click",t[22])],O=!0)},p(t,e){if(8&e[0]&&o.value!==t[3]&&Object(c.Y)(o,t[3]),0===t[0].length?h?h.p(t,e):(h=Lt(t),h.c(),h.m(u,f)):h&&(h.d(1),h=null),8193&e[0]){let n;for(m=t[0],n=0;n<m.length;n+=1){const c=Nt(t,m,n);g[n]?g[n].p(c,e):(g[n]=Vt(c),g[n].c(),g[n].m(u,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},i:c.M,o:c.M,d(t){t&&Object(c.x)(e),t&&Object(c.x)(i),t&&Object(c.x)(l),h&&h.d(),Object(c.w)(g,t),t&&Object(c.x)(d),t&&Object(c.x)(j),O=!1,Object(c.T)(p)}}}function Gt(t){let e,n,r,s,o,i,l;function b(t,e){return t[4]?qt:Wt}let a=b(t),u=a(t),f=t[6].length&&Yt(t);return{c(){u.c(),e=Object(c.ab)(),n=Object(c.y)("button"),n.textContent="Choose a different alignment...",r=Object(c.ab)(),f&&f.c(),s=Object(c.z)(),Object(c.h)(n,"class","secondary svelte-xgf48k")},m(b,a){u.m(b,a),Object(c.H)(b,e,a),Object(c.H)(b,n,a),Object(c.H)(b,r,a),f&&f.m(b,a),Object(c.H)(b,s,a),o=!0,i||(l=Object(c.J)(n,"click",t[18]),i=!0)},p(t,n){a===(a=b(t))&&u?u.p(t,n):(u.d(1),u=a(t),u&&(u.c(),u.m(e.parentNode,e))),t[6].length?f?(f.p(t,n),64&n[0]&&Object(c.ib)(f,1)):(f=Yt(t),f.c(),Object(c.ib)(f,1),f.m(s.parentNode,s)):f&&(Object(c.E)(),Object(c.jb)(f,1,1,()=>{f=null}),Object(c.l)())},i(t){o||(Object(c.ib)(f),o=!0)},o(t){Object(c.jb)(f),o=!1},d(t){u.d(t),t&&Object(c.x)(e),t&&Object(c.x)(n),t&&Object(c.x)(r),f&&f.d(t),t&&Object(c.x)(s),i=!1,l()}}}function Lt(t){let e,n,r,s;return{c(){e=Object(c.y)("p"),n=Object(c.eb)('No subtitles matching "'),r=Object(c.eb)(t[3]),s=Object(c.eb)('".'),Object(c.h)(e,"class","svelte-xgf48k")},m(t,o){Object(c.H)(t,e,o),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s)},p(t,e){8&e[0]&&Object(c.X)(r,t[3])},d(t){t&&Object(c.x)(e)}}}function Xt(t){let e,n,r,s,o,i,l,b,a,u=t[26].offset+"",f=t[26].text.trim()+"";function d(...e){return t[21](t[26],...e)}return{c(){e=Object(c.y)("button"),n=Object(c.eb)("("),r=Object(c.eb)(u),s=Object(c.eb)(")"),o=Object(c.y)("br"),i=Object(c.eb)(f),l=Object(c.ab)(),Object(c.h)(e,"class","svelte-xgf48k")},m(t,u){Object(c.H)(t,e,u),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),Object(c.f)(e,i),Object(c.f)(e,l),b||(a=Object(c.J)(e,"click",d),b=!0)},p(e,n){t=e,1&n[0]&&u!==(u=t[26].offset+"")&&Object(c.X)(r,u),1&n[0]&&f!==(f=t[26].text.trim()+"")&&Object(c.X)(i,f)},d(t){t&&Object(c.x)(e),b=!1,a()}}}function Dt(t){let e,n,r,s,o,i,l,b=t[26].sub.text.trim()+"",a=t[26].subsequent,u=[];for(let e=0;e<a.length;e+=1)u[e]=Bt(Jt(t,a,e));return{c(){e=Object(c.y)("div"),n=Object(c.y)("fieldset"),r=Object(c.y)("legend"),s=Object(c.eb)(b),o=Object(c.ab)(),i=Object(c.y)("div");for(let t=0;t<u.length;t+=1)u[t].c();l=Object(c.ab)(),Object(c.h)(r,"class","svelte-xgf48k"),Object(c.h)(i,"class","column svelte-xgf48k"),Object(c.h)(n,"class","svelte-xgf48k"),Object(c.h)(e,"class","search-match svelte-xgf48k")},m(t,b){Object(c.H)(t,e,b),Object(c.f)(e,n),Object(c.f)(n,r),Object(c.f)(r,s),Object(c.f)(n,o),Object(c.f)(n,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);Object(c.f)(e,l)},p(t,e){if(1&e[0]&&b!==(b=t[26].sub.text.trim()+"")&&Object(c.X)(s,b),8193&e[0]){let n;for(a=t[26].subsequent,n=0;n<a.length;n+=1){const c=Jt(t,a,n);u[n]?u[n].p(c,e):(u[n]=Bt(c),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},d(t){t&&Object(c.x)(e),Object(c.w)(u,t)}}}function Bt(t){let e,n,r,s,o,i,l,b,a,u=t[29].offset+"",f=t[29].text.trim()+"";function d(...e){return t[20](t[29],...e)}return{c(){e=Object(c.y)("button"),n=Object(c.eb)("("),r=Object(c.eb)(u),s=Object(c.eb)(")"),o=Object(c.y)("br"),i=Object(c.eb)(f),l=Object(c.ab)(),Object(c.h)(e,"class","svelte-xgf48k")},m(t,u){Object(c.H)(t,e,u),Object(c.f)(e,n),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),Object(c.f)(e,i),Object(c.f)(e,l),b||(a=Object(c.J)(e,"click",d),b=!0)},p(e,n){t=e,1&n[0]&&u!==(u=t[29].offset+"")&&Object(c.X)(r,u),1&n[0]&&f!==(f=t[29].text.trim()+"")&&Object(c.X)(i,f)},d(t){t&&Object(c.x)(e),b=!1,a()}}}function Vt(t){let e;function n(t,e){return"search-match"===t[26].type?Dt:Xt}let r=n(t),s=r(t);return{c(){s.c(),e=Object(c.z)()},m(t,n){s.m(t,n),Object(c.H)(t,e,n)},p(t,c){r===(r=n(t))&&s?s.p(t,c):(s.d(1),s=r(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&Object(c.x)(e)}}}function Wt(t){let e,n,r,s,o;return{c(){e=Object(c.y)("p"),e.textContent="You haven't set an alignment for this show before",n=Object(c.ab)(),r=Object(c.y)("button"),r.textContent="Assume subtitles are properly timed",Object(c.h)(e,"class","svelte-xgf48k"),Object(c.h)(r,"class","svelte-xgf48k")},m(i,l){Object(c.H)(i,e,l),Object(c.H)(i,n,l),Object(c.H)(i,r,l),s||(o=Object(c.J)(r,"click",t[17]),s=!0)},p:c.M,d(t){t&&Object(c.x)(e),t&&Object(c.x)(n),t&&Object(c.x)(r),s=!1,o()}}}function qt(t){let e,n,r,s,o,i,l,b,a,u=t[7]&&function(t){let e,n;return{c(){e=Object(c.eb)("for "),n=Object(c.y)("span"),n.textContent=`${t[7]}`,Object(c.h)(n,"class","show-name svelte-xgf48k")},m(t,r){Object(c.H)(t,e,r),Object(c.H)(t,n,r)},p:c.M,d(t){t&&Object(c.x)(e),t&&Object(c.x)(n)}}}(t);return{c(){e=Object(c.y)("button"),n=Object(c.eb)("Use the last alignment\n\t\t\t\t\t\n\t\t\t\t\t"),u&&u.c(),r=Object(c.ab)(),s=Object(c.y)("br"),o=Object(c.eb)("\n\t\t\t\t\t("),i=Object(c.eb)(t[5]),l=Object(c.eb)(")"),Object(c.h)(e,"class","svelte-xgf48k")},m(f,d){Object(c.H)(f,e,d),Object(c.f)(e,n),u&&u.m(e,null),Object(c.f)(e,r),Object(c.f)(e,s),Object(c.f)(e,o),Object(c.f)(e,i),Object(c.f)(e,l),b||(a=Object(c.J)(e,"click",t[12]),b=!0)},p(t,e){t[7]&&u.p(t,e),32&e[0]&&Object(c.X)(i,t[5])},d(t){t&&Object(c.x)(e),u&&u.d(),b=!1,a()}}}function Yt(t){let e,n,r,s;return r=new V({}),r.$on("aligned",t[15]),{c(){e=Object(c.y)("h2"),e.textContent="Other Recently Used Alignments",n=Object(c.ab)(),Object(c.r)(r.$$.fragment),Object(c.h)(e,"class","svelte-xgf48k")},m(t,o){Object(c.H)(t,e,o),Object(c.H)(t,n,o),Object(c.L)(r,t,o),s=!0},p:c.M,i(t){s||(Object(c.ib)(r.$$.fragment,t),s=!0)},o(t){Object(c.jb)(r.$$.fragment,t),s=!1},d(t){t&&Object(c.x)(e),t&&Object(c.x)(n),Object(c.v)(r,t)}}}function Ut(t){let e,n,r,s,o,i,l,b,a,u,f;function d(t,e){return t[2]===t[8].entry?Rt:It}let j=d(t),O=j(t);const p=[Gt,Ft,zt],h=[];function m(t,e){return t[2]===t[8].entry?0:t[2]===t[8].automatic?1:t[2]===t[8].manual?2:-1}return~(l=m(t))&&(b=h[l]=p[l](t)),{c(){e=Object(c.y)("div"),n=Object(c.y)("div"),r=Object(c.y)("button"),O.c(),s=Object(c.ab)(),o=Object(c.y)("h1"),o.textContent="Alignment Adjustment",i=Object(c.ab)(),b&&b.c(),Object(c.h)(r,"class","small-button secondary svelte-xgf48k"),Object(c.h)(o,"class","svelte-xgf48k"),Object(c.h)(n,"class","alignment-panel svelte-xgf48k"),Object(c.h)(e,"class","column svelte-xgf48k")},m(b,d){Object(c.H)(b,e,d),Object(c.f)(e,n),Object(c.f)(n,r),O.m(r,null),Object(c.f)(n,s),Object(c.f)(n,o),Object(c.f)(n,i),~l&&h[l].m(n,null),a=!0,u||(f=Object(c.J)(r,"click",t[9]),u=!0)},p(t,e){j!==(j=d(t))&&(O.d(1),O=j(t),O&&(O.c(),O.m(r,null)));let s=l;l=m(t),l===s?~l&&h[l].p(t,e):(b&&(Object(c.E)(),Object(c.jb)(h[s],1,1,()=>{h[s]=null}),Object(c.l)()),~l?(b=h[l],b||(b=h[l]=p[l](t),b.c()),Object(c.ib)(b,1),b.m(n,null)):b=null)},i(t){a||(Object(c.ib)(b),a=!0)},o(t){Object(c.jb)(b),a=!1},d(t){t&&Object(c.x)(e),O.d(),~l&&h[l].d(),u=!1,f()}}}function Kt(t){t.focus(),t.select()}function Zt(t,e,n){let o,i,l;Object(c.m)(t,v,t=>n(4,o=t)),Object(c.m)(t,E,t=>n(5,i=t)),Object(c.m)(t,$,t=>n(6,l=t));let{subtitles:b}=e;const a=Object(r.a)(),u=Object(s.b)(w),f={entry:"entry",manual:"manual",automatic:"automatic"};let d=b.getAlignmentCandidates(),j=Object(s.b)(_),O=d[0],p=f.entry,h="";function m(){const t=parseFloat(j);isNaN(t)?alert("Please enter a valid number!"):x(1e3*t)}function g(t){O=t,x()}function x(t){const e=document.querySelector("video"),n="number"==typeof t?t:1e3*e.currentTime-O.start-400;y.set(n),S(n),k()}function k(){a("done")}return t.$$set=t=>{"subtitles"in t&&n(16,b=t.subtitles)},t.$$.update=()=>{65544&t.$$.dirty[0]&&n(0,d=b.getAlignmentCandidates(h))},[d,j,p,h,o,i,l,u,f,function(){p!==f.entry?n(2,p=p===f.automatic?f.entry:f.automatic):a("reselect")},function(t){t.stopPropagation(),"Enter"===t.key&&m()},m,function(){x(Object(s.b)(y))},g,x,k,b,()=>x(0),()=>n(2,p=f.automatic),function(){h=this.value,n(3,h)},t=>g(t),t=>g(t),()=>n(2,p=f.manual),function(){j=this.value,n(1,j)}]}class Qt extends c.a{constructor(t){var e;super(),Tt.getElementById("svelte-xgf48k-style")||((e=Object(c.y)("style")).id="svelte-xgf48k-style",e.textContent=".column.svelte-xgf48k.svelte-xgf48k{display:flex;flex-direction:column;text-align:center}button.svelte-xgf48k.svelte-xgf48k{margin:0.5rem;align-self:center;max-width:20rem}.row.svelte-xgf48k.svelte-xgf48k{display:flex;flex-direction:row;justify-content:center;align-content:center}.row.svelte-xgf48k button.svelte-xgf48k{max-width:15rem}.show-name.svelte-xgf48k.svelte-xgf48k{font-style:italic}.alignment-panel.svelte-xgf48k.svelte-xgf48k{background:rgba(27, 26, 38, 0.9);align-self:center;padding:0.5rem;display:flex;flex-direction:column;border-radius:4px;justify-content:center;max-height:80vh;left:50vw;transform:translateX(-50%);position:absolute}fieldset.svelte-xgf48k.svelte-xgf48k{overflow:auto}.alignment-panel.svelte-xgf48k>.svelte-xgf48k:not(select):not(button){color:white}h1.svelte-xgf48k.svelte-xgf48k{margin:0}h1.svelte-xgf48k.svelte-xgf48k{font-size:1.3rem;border-bottom:2px solid #f47521}h2.svelte-xgf48k.svelte-xgf48k{font-size:0.9rem}p.svelte-xgf48k.svelte-xgf48k,label.svelte-xgf48k.svelte-xgf48k{max-width:14rem}.alignment-sign-hint.svelte-xgf48k.svelte-xgf48k{font-size:0.8rem}#manual-alignment.svelte-xgf48k.svelte-xgf48k{width:5rem;align-self:center}@media(max-width: 700px){button.svelte-xgf48k.svelte-xgf48k,input.svelte-xgf48k.svelte-xgf48k,label.svelte-xgf48k.svelte-xgf48k,legend.svelte-xgf48k.svelte-xgf48k,p.svelte-xgf48k.svelte-xgf48k{font-size:0.7rem !important;margin:0.2rem}.alignment-sign-hint.svelte-xgf48k.svelte-xgf48k{font-size:0.6rem}button.svelte-xgf48k.svelte-xgf48k{padding:4px}h1.svelte-xgf48k.svelte-xgf48k{font-size:1rem}h2.svelte-xgf48k.svelte-xgf48k{font-size:0.9rem}#subtitle-options.svelte-xgf48k.svelte-xgf48k{max-height:30vh}}h2.svelte-xgf48k.svelte-xgf48k{margin:0}p.svelte-xgf48k.svelte-xgf48k{align-self:center}.search-match.svelte-xgf48k.svelte-xgf48k:not(:last-child){margin-bottom:1rem}.search-match.svelte-xgf48k legend.svelte-xgf48k{white-space:pre;margin:0 auto}#subtitle-search.svelte-xgf48k.svelte-xgf48k{align-self:center;max-width:100%}",Object(c.f)(Tt.head,e)),Object(c.G)(this,t,Zt,Ut,c.U,{subtitles:16},[-1,-1])}}var te=Qt;function ee(t){let e,n;return{c:c.M,m(r,s){e||(n=Object(c.J)(window,"keydown",t[0]),e=!0)},p:c.M,i:c.M,o:c.M,d(t){e=!1,n()}}}function ne(t){return[function(t){const e=t.key.toLowerCase();"h"===e?a.update(t=>!t):"i"===e&&f.update(t=>!t)}]}class ce extends c.a{constructor(t){super(),Object(c.G)(this,t,ne,ee,c.U,{})}}var re=ce;const{document:se}=c.D;function oe(t){let e,n;return e=new ot({props:{mode:"cancelled"}}),e.$on("restart",t[5]),{c(){Object(c.r)(e.$$.fragment)},m(t,r){Object(c.L)(e,t,r),n=!0},p:c.M,i(t){n||(Object(c.ib)(e.$$.fragment,t),n=!0)},o(t){Object(c.jb)(e.$$.fragment,t),n=!1},d(t){Object(c.v)(e,t)}}}function ie(t){let e,n,r,s;return e=new xt({props:{format:t[1].format,styles:t[1].styles,current:t[4]}}),e.$on("define-pauser",t[9]),r=new ot({props:{recentSubs:t[2],subtitles:t[1]}}),r.$on("restart",t[5]),r.$on("tray-pauser",t[8]),r.$on("define-pauser",t[9]),r.$on("realign",t[12]),{c(){Object(c.r)(e.$$.fragment),n=Object(c.ab)(),Object(c.r)(r.$$.fragment)},m(t,o){Object(c.L)(e,t,o),Object(c.H)(t,n,o),Object(c.L)(r,t,o),s=!0},p(t,n){const c={};2&n&&(c.format=t[1].format),2&n&&(c.styles=t[1].styles),16&n&&(c.current=t[4]),e.$set(c);const s={};4&n&&(s.recentSubs=t[2]),2&n&&(s.subtitles=t[1]),r.$set(s)},i(t){s||(Object(c.ib)(e.$$.fragment,t),Object(c.ib)(r.$$.fragment,t),s=!0)},o(t){Object(c.jb)(e.$$.fragment,t),Object(c.jb)(r.$$.fragment,t),s=!1},d(t){Object(c.v)(e,t),t&&Object(c.x)(n),Object(c.v)(r,t)}}}function le(t){let e,n;return e=new te({props:{subtitles:t[1]}}),e.$on("done",t[6]),e.$on("reselect",t[11]),{c(){Object(c.r)(e.$$.fragment)},m(t,r){Object(c.L)(e,t,r),n=!0},p(t,n){const c={};2&n&&(c.subtitles=t[1]),e.$set(c)},i(t){n||(Object(c.ib)(e.$$.fragment,t),n=!0)},o(t){Object(c.jb)(e.$$.fragment,t),n=!1},d(t){Object(c.v)(e,t)}}}function be(t){let e,n;return e=new Pt({}),e.$on("subtitles-loaded",t[7]),e.$on("cancel",t[10]),{c(){Object(c.r)(e.$$.fragment)},m(t,r){Object(c.L)(e,t,r),n=!0},p:c.M,i(t){n||(Object(c.ib)(e.$$.fragment,t),n=!0)},o(t){Object(c.jb)(e.$$.fragment,t),n=!1},d(t){Object(c.v)(e,t)}}}function ae(t){let e,n,r,s,o,i;const l=[be,le,ie,oe],b=[];function a(t,e){return"prompt"===t[0]?0:"align"===t[0]?1:"play"===t[0]?2:"cancelled"===t[0]?3:-1}return~(n=a(t))&&(r=b[n]=l[n](t)),o=new re({}),{c(){e=Object(c.y)("div"),r&&r.c(),s=Object(c.ab)(),Object(c.r)(o.$$.fragment),Object(c.h)(e,"class","subtitles-app svelte-1hlx3v6")},m(t,r){Object(c.H)(t,e,r),~n&&b[n].m(e,null),Object(c.H)(t,s,r),Object(c.L)(o,t,r),i=!0},p(t,[s]){let o=n;n=a(t),n===o?~n&&b[n].p(t,s):(r&&(Object(c.E)(),Object(c.jb)(b[o],1,1,()=>{b[o]=null}),Object(c.l)()),~n?(r=b[n],r||(r=b[n]=l[n](t),r.c()),Object(c.ib)(r,1),r.m(e,null)):r=null)},i(t){i||(Object(c.ib)(r),Object(c.ib)(o.$$.fragment,t),i=!0)},o(t){Object(c.jb)(r),Object(c.jb)(o.$$.fragment,t),i=!1},d(t){t&&Object(c.x)(e),~n&&b[n].d(),t&&Object(c.x)(s),Object(c.v)(o,t)}}}function ue(t,e,n){let s,o=c.M;t.$$.on_destroy.push(()=>o());const i=new yt;let l,b,a="prompt",u=[],f=null,d=null,j=-1,O=[];function p(){n(0,a="prompt"),n(1,f=null),u=[]}function h(){d=document.querySelector("video"),i.setVideo(d),n(2,O=[]),n(0,a="play"),b&&b(),N=f,n(3,l=R(y)),o(),o=Object(c.cb)(l,t=>n(4,s=t)),b=l.subscribe(t=>{!function(t){let e=t[t.length-1],c=O[O.length-1];!e||c&&e.text===c.text||n(2,O=[...O,e]);O.length>10&&n(2,O=O.slice(O.length-10))}(t)})}y.subscribe(t=>j=t),Object(r.c)(()=>{document.addEventListener("visibilitychange",()=>{document.hidden||i.removePauser("define")});let t="",e="";setInterval(()=>{const n=document.querySelector("video").getAttribute("src");n&&n!==t&&(t=n,p());const c=document.querySelector(".video-title"),r=c?c.textContent:"";r!==e&&(e=r,w.set(r))},50)});return[a,f,O,l,s,p,h,function(t){n(1,f=t.detail.subtitles),0===f.subs.length?(console.log("subtitles object failed to parse: ",f),alert("No subtitles were able to be parsed from the selected subtitle file, verify nothing is wrong with the file. If it appears normal please submit a bug report with the episode and the subtitles file you used to the issue tracker (a link can be found in the tray on the right side of the video player)!"),n(0,a="cancelled")):t.detail.skipAlignment?(y.set(0),h()):n(0,a="align")},function(t){t.detail?i.addPauser("tray"):i.removePauser("tray")},function(){i.addPauser("define")},()=>n(0,a="cancelled"),()=>n(0,a="prompt"),()=>n(0,a="align")]}class fe extends c.a{constructor(t){var e;super(),se.getElementById("svelte-1hlx3v6-style")||((e=Object(c.y)("style")).id="svelte-1hlx3v6-style",e.textContent='.subtitles-app.svelte-1hlx3v6{position:relative;font-family:"Helvetica Neue", Helvetica, Arial, sans-serif;text-align:center}.subtitles-app.svelte-1hlx3v6>*{z-index:1000000000}.subtitles-app.svelte-1hlx3v6 button,.subtitles-app.svelte-1hlx3v6 .button{background:#fd0;border:none;padding:0.4rem;line-height:1;font-weight:bold;color:black;text-transform:uppercase;font-size:0.9rem;margin-bottom:0.2rem}.subtitles-app.svelte-1hlx3v6 .small-button{font-size:0.6rem;padding:0.2rem}.subtitles-app.svelte-1hlx3v6 button:disabled,.subtitles-app.svelte-1hlx3v6 .button:disabled{background:#2a3450}.subtitles-app.svelte-1hlx3v6 button.secondary,.subtitles-app.svelte-1hlx3v6 .button.secondary{background:#11121863;border:1px solid #fd0;color:#fd0}.subtitles-app.svelte-1hlx3v6 button:not(:disabled):hover,.subtitles-app.svelte-1hlx3v6 .button:not(:disabled):hover{background:#ffea6d;cursor:pointer;color:black}.subtitles-app.svelte-1hlx3v6 input[type=text],.subtitles-app.svelte-1hlx3v6 input:not([type]){color:white;background:#0b0b26;border:1px solid #364962;padding:0.2rem}.subtitles-app.svelte-1hlx3v6 input[type=text]:focus,.subtitles-app.svelte-1hlx3v6 input:not([type]):focus{border-color:#fd0}.subtitles-app.svelte-1hlx3v6 .sr{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}',Object(c.f)(se.head,e)),Object(c.G)(this,t,ue,ae,c.U,{})}}var de=fe;const je=document.createElement("div");location.host.includes("crunchyroll")?document.getElementById("vilosRoot").appendChild(je):document.body.appendChild(je),je.id="sheodox-jimaku-player",je.style.position="fixed",je.style.width="100%";new de({target:je})}]);
